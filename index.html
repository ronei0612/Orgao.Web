<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta http-equiv="Content-Type" content="text/html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" charset="utf-8">
    <title>Órgão</title>
    <link rel="stylesheet" href="./assets/lib/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./assets/css/styles.css">
    <link rel="stylesheet" href="./assets/css/w3.css">
    <link rel="stylesheet" href="./assets/css/site.min.css">
    <link rel="stylesheet" href="./assets/css/orgao.min.css">
    <link rel="shortcut icon" href="./assets/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>

<body id="corpo" class="bg-light text-dark orgao-background">
    <header>
        <div id="linhaVermelha" class="linha-vermelha" style="display:none"></div>
        <nav id="navBar" class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-light border-bottom box-shadow mb-3" style="display:block">
            <div id="linhaNavBar" class="justify-content-sm-around container-sm">

                <button type="button" id="botaoOpcoes" class="input-group-text" onclick="mostrarModal('opcoes')">
                    <img src="./assets/lib/icons/options.svg" width="19" height="19" alt="Options">
                </button>
                <div id="fullscreenDiv">
                <button type="button" class="input-group-text" id="botaoFullscreen" onclick="mudarParaFullscreen()">
                    <i class="bi bi-arrows-fullscreen"></i>
                </button>
                    <button type="button" class="input-group-text" id="exitfullscreen" style="display:none" onclick="sairDeFullscreen()">
                        <img src="./assets/lib/icons/exitFull.svg" width="17" height="17" alt="ExitFull">
                    </button>
                </div>

                <button class="input-group-text" onclick="mostrarModal('instrumento')" id="titulo">
                    Órgão ▼
                </button>

                <h4 id="tituloConfiguracaoTeclas" style="display:none">
                    Configuração
                </h4>

                <h4 id="tituloGravacaoCifras" style="display:none">
                    Gravação
                </h4>

                <button type="button" id="botaoSalvar" class="input-group-text" onclick="mostrarModal('salvar')">
                    <img src="./assets/lib/icons/floppy.svg" width="19" height="19" alt="Salvar">
                </button>

                <div id="switchDarkDiv">
                    <label for="theme" class="theme">
                        <span class="theme__toggle-wrap">
                            <input id="switchDark" class="theme__toggle" type="checkbox" role="switch" name="theme" value="dark"" />
                            <span class="theme__icon">
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                            </span>
                        </span>
                    </label>
                </div>
                <div id="muteDiv" style="display:none">
                    <button type="button" id="botaoMute" class="input-group-text" dataEventoTecla="eventoClick" onclick="mutarVolume()">
                        <img src="./assets/lib/icons/mute.svg" width="20" height="20" alt="Mute" id="iconVolumeMute" style="display:none">
                        <img src="./assets/lib/icons/volume.svg" width="20" height="20" alt="Volume" id="iconVolume">
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <div id="modal01" class="w3-modal">
        <div class="w3-modal-content">
            <div class="w3-container">
                <div id="botaoFecharModal">
                    <span class="w3-button w3-display-topright" id="spanBotaoFecharModal">
                        <button class="btn btn-close" type="button" onclick="ocultarModal()">
                        </button>
                    </span>
                </div>

                <div id="oracoesEucaristicasDiv" style="display:none">
                    <br />
                    <!-- <partial name="~/Views/Liturgia/OracaoEucaristicaII.cshtml" /> -->
                </div>

                <div id="sobreDiv" style="display:none">
                    <!-- <partial name="~/Views/Orgao/Sobre.cshtml" /> -->
                </div>

                <div id="selectInstrumento">
                    <br />
                    <h4>Instrumento</h4>
                    <br />
                    <select class="form-control" tyle="height:3m" onchange="selecionarInstrumento(false, true)" id="instrumentoSelect">
                        <option selected value="Órgão">Órgão</option>
                        <option value="Banda">Banda</option>
                        <!-- @* <option value="Strings">Strings</option> *@
                        @* <option value="Bateria">Só Bateria</option> *@ -->
                    </select>
                    <br />
                </div>

                <div id="selectOpcoes">
                    <br />
                    <h4>Menu</h4>
                    <ul class="navbar-nav flex-grow-1">
                        <li class="nav-item">
                            <a class="nav-link orgao" asp-area="" asp-controller="Home" asp-action="Index">Início</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link orgao" onclick="mostrarLiturgiaDiaria()">Liturgia Diária</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link orgao" onclick="mostrarModal('oracoesEucaristicas')">Orações Eucarísticas</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link orgao" onclick="mostrarModal('configuracaoOpcoes')">Configuração</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link orgao" asp-area="" asp-controller="Youtube" asp-action="Index">Youtube</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link orgao" asp-area="" asp-controller="Sugestoes" asp-action="Index">Sugestões</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link orgao" onclick="mostrarModal('sobre')">Sobre</a>
                        </li>
                    </ul>
                </div>

                <div id="selectConfiguracao" style="display:none">
                    <br />
                    <h4>Configuração das Teclas</h4>
                    <br />
                    <a href="#" class="nav-link orgao" onclick="mostrarModal('configuracao')">Configurar as Teclas pelo teclado físico</a>
                    <a href="#" class="nav-link orgao" onclick="limparConfiguracaoTeclas()">Limpar as Configurações de Teclas</a>
                    <a href="#" class="nav-link orgao" onclick="limparConfiguracaoTodas()">Limpar TODAS as Configurações do site</a>
                    <br />
                </div>

                <div id="tecladoTeclasDiv" style="display:none">
                    <br />
                    <h4>Configuração das Teclas</h4>
                    Digite a tecla que irá pressionar esse botão:
                    <br />
                    <p style="font-weight: bold" id="inputTeclaLabel"></p>
                    <button id="botaoOkTecla" class="btn btn-primary" type="button" onclick="armazenarTeclaConfiguracaoTeclas()" disabled>
                        Ok
                    </button>
                    <br /><br />
                </div>

                <div id="compartilharDiv">
                    <br />
                    <h4>Compartilhar Salvamentos</h4>
                    Link do arquivo criado no seu Google Drive:
                    <br />
                    <a id="arquivoIdLink" href="" target="_blank"></a>
                    <br />
                    <br />
                    Compartilhamento <span id="nomeCompartilhamentoSpan"></span>
                    <div id="arquivoIdText"></div>
                    <br />
                    <button class="btn btn-primary" type="button" onclick="mostrarSalvamentoCompartilhado()">
                        Compartilhar
                    </button>
                    <br />
                    <br />
                </div>

                <div id="salvarDiv">
                    <br />
                    <h4>Salvamentos
                        <button class="btn btn-light me-1" type="button" onclick="trocarSalvamento()">
                            <i class="bi bi-arrow-left-right"></i>
                        </button>
                        <button class="btn btn-secondary me-1" type="button" onclick="compartilhar_Salvamentos()">
                            <i class="bi bi-share"></i>
                        </button>
                    </h4>

                    <div id="compartilhadoDiv">
                        Conjunto:
                        <br />
                        <div class="d-flex">
                            <select class="form-control me-1" tyle="height:3m" id="selectConjuntoSalvamento" onchange="carregarSalvamentosList(this.value)">
                                <option selected value="salvamentosv2">Nesse dispositivo</option>
                                <option value="compartilhados">Compartilhado</option>
                            </select>
                            <button class="btn btn-danger me-1" type="button" onclick="deletarSalvamento(true)">
                                <i class="bi bi-trash"></i>
                            </button>
                        </div>
                        <br />
                    </div>
                    
                    Selecionar salvamento:
                    <br />
                    <select class="form-control" tyle="height:3m" id="selectSalvamento">
                        <option selected value=""></option>
                    </select>
                    <br />

                    <button class="btn btn-warning" type="button" onclick="novoSalvamento()">
                        <i class="bi bi-plus-lg"></i>
                    </button>

                    <button class="btn btn-success" type="button" onclick="editarSalvamento()">
                        <i class="bi bi-pencil"></i>
                    </button>

                    <button class="btn btn-danger" type="button" onclick="deletarSalvamento()">
                        <i class="bi bi-trash"></i>
                    </button>

                    <button class="btn btn-primary" type="button" onclick="salvarSalvamento()">
                        <i class="bi bi-download"></i>
                        Salvar
                    </button>

                    <button class="btn btn-primary" type="button" onclick="carregar_Salvamento()">
                        <i class="bi bi-upload"></i>
                        Carregar
                    </button>
                    <br /><br />
                </div>

                <div id="modalGravar">
                    <br />
                    <h4>Cifras</h4>
                    <div id="botoesGravacao" style="display: none">
                        Selecionar gravação:
                        <br />
                        <select class="form-control" tyle="height:3m" id="selectGravacao">
                            <option selected value=""></option>
                        </select>

                        <button class="btn btn-success" type="button" onclick="novaGravacao()">
                            <i class="bi bi-plus-square"></i>
                        </button>

                        <button class="btn btn-danger" type="button" onclick="deletarGravacao()">
                            <i class="bi bi-trash"></i>
                        </button>
                        <br /><br />

                    </div>
                    <label for="musicaSearch">Pesquisar música:</label>
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="" aria-label="Pesquisar" aria-describedby="basic-addon1" name="texto" id="musicaSearch">
                        <span class="input-group-text" id="basic-addon1" onclick="pesquisarMusica()">
                            <i class="bi bi-search"></i>
                        </span>
                    </div>
                    <br />
                    <div id="linksCifraClubList" style="display:block">
                        <div class="list-group" id="listaMusicasCifra">                            
                        </div>
                    </div>
                    <div id="escreverCifraTextArea">
                        <label for="musicaAcordesTextArea">Escrever cifra:</label>
                        <textarea class="form-control" id="musicaAcordesTextArea" rows="9" style="font-size: 13pt; font-family: 'Roboto Mono','Courier New','Courier',monospace; line-height: 1.6; tab-size: 8"></textarea>
                    </div>
                    <br />
                    <label for="formFile" class="form-label">Importar partitura (imagem):</label>
                    <div class="d-flex align-items-center">
                        <input class="form-control" type="file" id="formFile" onchange="escolherArquivo(event)">
                        <button b-c3rtqodnk9="" class="btn btn-close me-1" type="button" onclick="document.getElementById('formFile').value = ''"></button>
                    </div>
                    <br />

                    <div class="d-flex align-items-center">
                        <button id="botaoIniciar" class="btn btn-primary me-1" type="button" onclick="iniciarCifra()">
                            Iniciar
                        </button>
                        <button class="btn btn-secondary me-1" type="button" onclick="gravarCifra()">
                            Escrever cifras
                        </button>
                        <button class="btn btn-secondary me-1" type="button" id="btnAfinador" onclick="mostrarAfinador()">
                            Afinador
                        </button>
                    </div>
                    
                    <div id="tunerDiv" style="display:none">
                        <!-- <partial name="~/Views/Orgao/Tuner.cshtml" /> -->
                    </div>
                    <br />
                    <br />
                </div>
            </div>
        </div>
    </div>

    <div>
        <main role="main" class="pb-3">
            <div id="tracker-container" style="display:none">
                <div id="container" class="container d-sm-flex" style="display:none">
                    <div class="box" id="orgaoBox">
                        <div id="linhaSelectTom" class="d-flex align-items-center justify-content-center">
                            <div class="d-flex align-items-center">
                                <div class="d-flex">
                                    <input class="btn btn-link me-1" type="button" id="voltar" value="&laquo; Voltar" onclick="voltarParaOrgao()" style="display:none">
                                    <button class="btn btn-primary me-1" id="diminuirTomMenos" type="button" ondblclick="aumentarTom_clickDuplo(false)" dataEventoTecla="eventoClick" onclick="aumentarTom_click(false)">
                                        <i class="bi bi-dash-lg"></i>
                                    </button>
                                    <select class="form-control me-1" id="tomSelect" onchange="prepararMudarTomCifra(this.value)" dataEventoTecla="eventoClick" onclick="pegarTomCifra(this.value)" style="text-align-last:center">
                                    </select>
                                    <button class="btn btn-primary me-1" id="aumentarTomMais" type="button" ondblclick="aumentarTom_clickDuplo(true)" dataEventoTecla="eventoClick" onclick="aumentarTom_click(true)">
                                        <i class="bi bi-plus-lg"></i>
                                    </button>
                                </div>
            
                            </div>
                            <div class="form-check form-switch naoSelecionarTexto" id="tomMenorSwitchDiv">
                                <input class="form-check-input" type="checkbox" role="switch" id="tomMenorSwitch" dataEventoTecla="eventoChange" onchange="selecionarTomMenor(this.checked)">
                                <label for="tomMenorSwitch" class="form-check-label" id="textoAcordeMenor">
                                    
                                </label>
                            </div>
                            <button class="btn btn-light border-primary me-1" type="button" onclick="" style="display:none">
                                <span style="color:#85AFEB">▲▼</span>
                            </button>
                        </div>
            
                        <div id="textoCifrasFrame" style="display:none">
                            <iframe id="textoCifras" style="width:100%; display:none"></iframe>
                            <iframe id="partituraFrame" style="width:100%; display:none"></iframe>
                            <iframe id="liturgiaDiariaFrame" src="https://liturgiadiaria.edicoescnbb.com.br/" style="width:100%; display:none"></iframe>
                        </div>
            
                        <div class="d-flex align-items-center centralizado-no-container" id="orgaoTable">
                            <!-- @* <table id="orgaoTable" style="margin-left: -12px"> *@ -->
                            <table id="tableOrgao">
                                <tr class="orgaoControles" id="orgaoControle">
                                    <td>
                                        <div class="form-check naoSelecionarTexto" id="acompCheckDiv">
                                            <input class="form-check-input me-1" type="checkbox" value="" id="acompCheck" style="width:1.5em;margin-left:-0.5em" dataEventoTecla="eventoChange" onchange="mostrarBateria(this.checked)">
                                            <br />Acomp
                                        </div>
                                    </td>
                                    <td>
                                        <button id="botaoBuscar" data-playing="false" class="botao parar" onclick="mostrarModal('gravar')">
                                            <i class="bi bi-search"></i>
                                        </button>
                                        <button id="play_pause" data-playing="false" class="botao parar" dataEventoTecla="eventoClick" onclick="escolherAcorde('', this)" style="display:none">
                                            <i class="bi bi-stop-fill"></i>
                                        </button>
                                    </td>
                                    <td>
                                        <button id="stringsBotao" class="botao instrumento"
                                            onmousedown="escolherAcompanhamentoBateria(this, '_stringsSelecionado')"
                                            dataeventotecla="eventoTouchstart"
                                            ontouchstart="handleTouchStart(event, this)">
                                            <img id="violinoDesenho" height="35px" width="35px" src="assets/lib/icons/violin.svg">
                                        </button>
                                    </td>
                                
                                    <td id="tdVolume" rowspan="5" colspan="">
                                        <div class="naoSelecionarTexto" style="display: flex; align-items: center" id="volumeDiv">
                                            <input type="range" id="volumeInput" orient="vertical" min="0" max="1" value="0.9" step="0.1" oninput="alterarVolume(this.value, 0.9)">
                                            <div id="textoVolume" class="textoVertical">Volume <span id="volumeTexto">9</span></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr id="gravarCifrasControle" style="display:none">
                                    <td colspan="4">
                                        <input type="text" class="form-control" id="textoGravarCifras">
                                    </td>
                                    <td></td>
                                    <td>
                                    </td>
                                </tr>
                                
                                <tr class="orgaoBotoes">
                                    <td><input type="button" class="botao azul acorde" id="acorde_0" value="C" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('C', this)"></td>
                                    <td><input type="button" class="botao vermelho acorde" id="acorde_3" value="F" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('F', this)"></td>
                                    <td><input type="button" class="botao amarelo acorde" id="acorde_4" value="G" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('G', this)"></td>
                                    <td></td>
                                </tr>
                                <tr class="orgaoBotoes">
                                    <td><input type="button" class="botao roxo acorde" id="acorde_5" value="Am" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('Am', this)"></td>
                                    <td><input type="button" class="botao rosa acorde" id="acorde_1" value="Dm" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('Dm', this)"></td>
                                    <td><input type="button" class="botao marrom acorde" id="acorde_2" value="Em" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('Em', this)"></td>
                                </tr>
                                <tr class="orgaoBotoes">
                                    <td><input id="acorde_9" style="display:none" type="button" class="botao roxoClaro acorde" value="A" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('A', this)"></td>
                                    <td><input id="acorde_7" style="display:none" type="button" class="botao rosaClaro acorde" value="D" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('D', this)"></td>
                                    <td><input id="acorde_10" style="display:none" type="button" class="botao marromClaro acorde" value="E" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('E', this)"></td>
                                </tr>
                                
                                <tr id="orgaoCifrasBotoes" style="display:none">
                                    <td>
                                        <button class="botao vermelho acorde" onmousedown="avancarCifra('retroceder', this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)" id="cifraRetroceder">
                                            <i class="bi bi-skip-backward-fill"></i>
                                        </button>
                                    </td>
                                    <td>
                                        <button class="botao marrom acorde" onmousedown="avancarCifra('repetir', this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)" id="cifraRepetir">
                                            <i class="bi bi-arrow-clockwise"></i>
                                        </button>
                                    </td>
                                    <td>
                                        <button class="botao azul acorde" onmousedown="avancarCifra('avancar', this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)" id="cifraAvancar">
                                            <i class="bi bi-play-fill"></i>
                                        </button>
                                    </td>
                                </tr>
                                
                                <tr class="botoesAcompanhamentosRitmo">
                                    <td>
                                        <button id="baixo" class="botao dedo" onmousedown="escolherAcompanhamentoOrgao('baixo', this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)">
                                            <img src="assets/lib/icons/handLeft.svg" width="28" height="28">
                                        </button>
                                                                        
                                        <button id="pianoBotao" class="botao dedo"
                                            onmousedown="escolherAcompanhamentoBateria(this, '_epianoSelecionado')"
                                            dataeventotecla="eventoTouchstart"
                                            ontouchstart="handleTouchStart(event, this)" style="display:none">
                                            <img src="assets/lib/icons/piano.svg" width="35" height="35">
                                    </td>
                                    <td>
                                        <button id="mao" class="botao mao" onmousedown="escolherAcompanhamentoOrgao('mao', this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)">
                                            <img src="assets/lib/icons/handRight.svg" width="28" height="28">
                                        </button>
                                
                                        <button id="baixoBotao" class="botao dedo"
                                            onmousedown="escolherAcompanhamentoBateria(this, '_baixoSelecionado')"
                                            dataeventotecla="eventoTouchstart"
                                            ontouchstart="handleTouchStart(event, this, true)" style="display:none">
                                            <img src="assets/lib/icons/bass.svg" width="35" height="35">
                                        </button>
                                    </td>
                                    <td>
                                        <button id="full" class="botao duasmaos" onmousedown="escolherAcompanhamentoOrgao('full', this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)">
                                            <img src="assets/lib/icons/hands.svg" width="50" height="30">
                                        </button>
                                
                                        <button id="violaoBotao" class="botao dedo"
                                            onmousedown="escolherAcompanhamentoBateria(this, '_violaoSelecionado')"
                                            dataeventotecla="eventoTouchstart"
                                            ontouchstart="handleTouchStart(event, this, true)" style="display:none">
                                            <img src="assets/lib/icons/guitarAcoustic.svg" width="35" height="35">
                                        </button>
                                    </td>
                                </tr>
                                
                                <div class="modal" id="modal_loading" data-backdrop="static" style="display:none">
                                    <div class="modal-dialog modal-sm">
                                        <div class="modal-content">
                                            <div class="modal-body text-center">
                                                <div class="loading-spinner mb-2"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </table>
                        </div>
                    </div>
            
                    <div class="box d-sm-flex" id="bateriaBox">
                        <div class="centralizado-no-container pure-form">
                            <div id="bateriaBotoes" style="display:none">
                                <table id="tableRitmo" class="justify-content-center">
                                    <tr>
                                        <td>
                                            <div class="form-check naoSelecionarTexto" id="autoCheckDiv">
                                                <input class="form-check-input me-1" type="checkbox" value="" id="autoCheck" dataEventoTecla="eventoChange" style="width:1.5em;margin-left:-0.5em">
                                                Auto<br />Ritmo
                                            </div>
                                        </td>
                                        <td style="position: relative">
                                            <div class="light" id="lightCompasso"></div>
                                            <button id="play_pause_bateria" data-playing="false" class="botao parar" onmousedown="playBotaoBateria(this, false)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)">
                                                <img src="assets/lib/icons/playPause.svg" width="26" height="26" id="prepararBateriaBotao">
                        
                                                <i class="bi bi-stop-fill" style="display:none" id="pararBateriaBotao"></i>
                                            </button>
                                        </td>
                                        <td>
                                            <select class="form-control" onchange="selecionarInstrumento(true)" id="selectRitmo" style="height:45px;width:93px;font-size:18px">
                                                <option selected value=""></option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr class="trCravoBotoes" style="display:none">
                                        <td>
                                            <button id="brushCravo" class="botao dedo" onmousedown="playBotaoBateria(this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <img src="assets/lib/icons/brush.svg" width="35" height="35">
                                            </button>
                                        </td>
                                        <td>
                                            <button id="cravo" class="botao dedo" onmousedown="playBotaoBateria(this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <img src="assets/lib/icons/harpsichord.svg" width="32" height="32">
                                            </button>
                                        </td>
                                        <td>
                                            <button id="pratoCravo" class="botao amarelo parar" onmousedown="pressionarBotao(this, false)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <img src="assets/lib/icons/chimes.svg" width="32" height="32" id="iconChimesCravo">
                                                <img src="assets/lib/icons/cymbals.svg" width="32" height="32" id="iconPratoCravo" style="display:none">
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="trBateriaBotoes">
                                        <td>
                                            <button id="brush" class="botao dedo" onmousedown="playBotaoBateria(this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <img src="assets/lib/icons/brush.svg" width="35" height="35">
                                            </button>
                                        </td>
                                        <td>
                                            <button id="aro" class="botao dedo" onmousedown="playBotaoBateria(this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <img src="assets/lib/icons/hoop.svg" width="35" height="35">
                                            </button>
                                        </td>
                                        <td>
                                            <button id="caixa" class="botao dedo" onmousedown="playBotaoBateria(this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <img src="assets/lib/icons/snare.svg" width="35" height="35">
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="trBateriaBotoes">
                                        <td>
                                            <button id="chimbal" class="botao dedo" onmousedown="playBotaoBateria(this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <img src="assets/lib/icons/snare.svg" width="32" height="32">
                                            </button>
                                        </td>
                                        <td>
                                            <button id="ride" class="botao dedo" style="display:none">
                                            </button>
                                            <button id="meiaLua" class="botao dedo" onmousedown="playBotaoBateria(this)"
                                                dataEventoTecla="eventoTouchstart"
                                                ontouchstart="handleTouchStart(event, this, true)">
                                                <img src="assets/lib/icons/halfMoon.svg" width="35" height="35">
                                            </svg>
                                            </button>
                                        </td>
                                        <td>
                                            <button id="prato" class="botao amarelo parar" onmousedown="pressionarBotao(this, false)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <img src="assets/lib/icons/chimes.svg" width="32" height="32" id="iconChimes">
                                                <img src="assets/lib/icons/cymbals.svg" width="32" height="32" id="iconPrato" style="display:none">
                                            </button>
                                        </td>
                                    </tr>
                                </table>
                        
                                <form class="pure-form" id="trackerControls">
                                    <div class="d-flex align-items-center justify-content-center">
                                        <!-- @* <label for="bpm" class="naoSelecionarTexto me-1" ontouchstart="mostrarBateriaConfig(true)" ontouchend="mostrarBateriaConfig(false)">Temp:</label><input name="bpm" id="bpm" style="width: 50px" value="90" class="form-control me-1" onchange="mudarTempoCompasso()" onblur="mudarTempoCompasso(false)"> *@ -->
                                        <label for="bpm" class="naoSelecionarTexto me-1" onclick="clicarUmBotaoTempo(parseInt(document.getElementById('bpm').value) + 5)">Temp:</label><input name="bpm" id="bpm" style="width: 50px" value="90" class="form-control me-1" onchange="mudarTempoCompasso()" onblur="mudarTempoCompasso(false)">
                                        <button class="btn btn-success me-1" type="button" onclick="clicarUmBotaoTempo(60)">
                                            60
                                        </button>
                                        <button class="btn btn-success me-1" type="button" onclick="clicarUmBotaoTempo(70)">
                                            70
                                        </button>
                                        <button class="btn btn-success me-1" type="button" onclick="clicarUmBotaoTempo(80)">
                                            80
                                        </button>
                                        <button class="btn btn-success me-1" type="button" onclick="clicarUmBotaoTempo(90)">
                                            90
                                        </button>
                                    </div>
                        
                                    <input id="bpmRange" type="range" class="form-range rangeVerde" max="100" min="50" step="1" value="90" onchange="mudarTempoCompasso(true)">
                                </form>
                                <div id="bateria" style="display:none">
                                    <div>
                                        <label for="measureLengthSelect">Compasso:</label>
                                        <select name="measureLengthSelect" id="measureLengthSelect" aria-label="Compasso">
                                            <option value="6">3/4</option>
                                            <option selected value="8">4/4</option>
                                            <option value="12">6/8</option>
                                        </select>
                                        <input class="base" name="measureLength" id="measureLength" style="width: 60px;" value="16">
                                    </div>
                        
                                    <div id="tracker-parent">
                                        <table id="tracker-table">
                                        </table>
                                    </div>
                                    <div id="tracker-controls">
                                        <div style="display:none">
                                            <button id="play">Play</button>
                                            <button id="pause">Pause</button>
                                            <button id="stop">Stop</button>
                                            <br>
                                        </div>
                                    </div>
                                    <br />
                                    <button onclick="escreverRitmo()">Get Ritmo</button>
                                    <div id="textoRitmo"></div>
                        
                                    <div style="display:none">
                                        <hr>
                                        <form class="pure-form">
                                            <input type="text" id="filename"><br>
                                            <button id="save">Save as </button><button id="saveAsJson">Get JSON</button> <br>
                        
                                            <span id="load-storage"><select id="beat-list"><option value="Select">Select</option></select></span>
                                            <button id="delete">Delete selected</button>
                                        </form>
                                    </div>
                                </div>
                        
                                <div id="mensagens" style="display:none">
                                </div>
                        
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!--<button id="startButton">Iniciar Transmissão</button>
    <button id="stopButton" disabled>Parar Transmissão</button>-->
    
    <script src="./assets/lib/jquery/dist/jquery.min.js"></script>
    <script src="./assets/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./assets/js/crypto-js.min.js"></script>
    <script src="./assets/js/google.min.js"></script>
    <script src="./assets/js/Pizzicato.min.js"></script>
    <script>
        async function acordarServidor() {
            try {
                const response = await fetch('https://apinode-h4wt.onrender.com');
            } catch { }
        }

        window.onload = acordarServidor;

    //Impedir atualização errônea da página
    // window.onbeforeunload = function () {
    //     return "Deseja recarregar página?";
    // };

    //selectRitmo.selectedIndex = 2;    

        function mostrarCompartilhado() {
            //Comentado para funcionar por enquanto
            // if ('@Model.CompartilhadoNome' !== '') {
            // 	if ('@Model.CompartilhadoNome' === 'Erro')
            // 		alert('Ocorreu um erro ao mostrar compartilhamento! Tente novamente.');
            // 	else {
            // 		if (confirm('Carregar o compartilhamento?')) {
            // 			localStorage.setItem('compartilhados', JSON.stringify(@Html.Raw(@Model.CompartilhadoConteudo)));				
            // 			mostrarModal('salvar');
            // 		}
            // 	}
            // }

            // if (window.location.href.includes('compartilhado'))
            // 	limparUrl();
        }

        function baixar() {
            const url = 'https://drive.google.com/uc?id=' + '@Model.CompartilhadoNome' + '&export=download';
            getTextFromGoogleDrive(url)
                .then(text => {
                    if (text !== null) {
                        console.log(text);
                        console.log(JSON.stringify(text));

                        console.log('Texto do arquivo:', text);
                        // Faça algo com o texto aqui
                    } else {
                        console.log('Falha ao obter o texto do arquivo.');
                    }
                });
        }

        async function getTextFromGoogleDrive(url) {
            try {
                const response = await fetch(url);
                const text = await response.text();
                return text;
            } catch (error) {
                console.error('Erro ao buscar o texto do arquivo:', error);
                return null;
            }
        }
    </script>

    <script src="./assets/js/site.js"></script>
    <script src="./assets/js/audios.js"></script>
    <script src="./assets/js/orgao.js"></script>
    <script src="./assets/js/bateria.js"></script>
    <script src="./assets/lib/audioContext/WAAClock.js"></script>
    <script src="./assets/lib/audioContext/simple-tracker.js"></script>
    <script src="./assets/js/bundle.js"></script>

    <!-- <script src="./assets/js/site.min.js"></script> 
    <script src="./assets/js/bateria.min.js"></script>
    <script src="./assets/js/bundle.min.js"></script>
    <script src="./assets/js/orgao.min.js"></script> -->

    <script>
        $(window).click(function (e) {
            if (e.target.className === 'w3-modal')
                ocultarModal();
        });

        var div = document.getElementById('bateria');
        var selecionarRitmoElem = document.getElementById("selecionarRitmo");
        var temporizador;

        function showBateria(mostrarBateria) {
            if (mostrarBateria) {
                document.getElementById('container').classList.remove('container');
                document.getElementById('textoBateria').style.color = 'black';
                div.style.display = 'block';
            }
            else {
                document.getElementById('container').classList.add('container');
                div.style.display = 'none';
                document.getElementById('textoBateria').style.color = 'grey';
            }
        }

        function clicarUmBotaoTempo(tempoValor) {
            var bpmElement = document.getElementById('bpm');
            document.getElementById('bpmRange').value = tempoValor;
            bpmElement.value = tempoValor;

            var novoEvento = new Event('change');
            bpmElement.dispatchEvent(novoEvento);
            mudarTempoCompasso(false);
        }

        function escreverRitmo() {
            var tabelaElem = document.getElementById('tracker-table');
            var elementos = document.getElementsByClassName('tracker-enabled');
            var texto = '';

            Array.from(elementos).forEach((elemento) => {
                texto += elemento.innerText + ', ';
            });

            textoRitmo.innerText = texto;
        }

        function playBotaoBateria(botao, tocar = true, levantarBotoes = true) {
            if (!_configurandoTeclas)
                pressionarBotao(botao, levantarBotoes);
        }

        function pressionarBotao(botao, levantarBotoes = true) {
            var botaoPressionadoAntes = document.getElementsByClassName('selecionadoDrum');
            var botaoPressionado = botaoPressionadoAntes.length > 0 ? botaoPressionadoAntes[0] : null;

            // if (botao.id !== 'prato' && botao.id !== 'pratoCravo') {
            // 	if (botao === play_pause_bateria) {
            // 		if (prepararBateriaBotao.style.display !== 'none') {
            // 			prepararBateriaBotao.style.display = 'none';
            // 			pararBateriaBotao.style.display = '';
            // 		} else {
            // 			prepararBateriaBotao.style.display = '';
            // 			pararBateriaBotao.style.display = 'none';
            // 		}
            // 	} else {
            // 		prepararBateriaBotao.style.display = 'none';
            // 		pararBateriaBotao.style.display = '';
            // 	}
            // }

            if (levantarBotoes && botaoPressionado) {
                if (botao === botaoPressionado) {
                    fazerViradaBateria();
                } else {
                    botaoPressionado.classList.remove('selecionadoDrum');
                }
            }

            if (botao.id === 'prato' || botao.id === 'pratoCravo') {
                //chimesSound.play();
                mudarIconeChimesPrato();
            }

            else if (botao.id !== 'prato' && botao.id !== 'pratoCravo') {
                botao.classList.add('selecionadoDrum');
            }
        }

        function mostrarBateriaConfig(mostrar) {
            if (mostrar) {
                temporizador = setTimeout(function () {
                    //bateria.style.display = '';
                    document.getElementById('mensagens').style.display = '';
                }, 3000);
            }
            else 
                clearTimeout(temporizador);
        }
    </script>
</body>
</html>