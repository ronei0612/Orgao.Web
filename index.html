<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta http-equiv="Content-Type" content="text/html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" charset="utf-8">
    <title>Órgão</title>
    <link rel="stylesheet" href="./assets/lib/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./assets/css/styles.css">
    <link rel="stylesheet" href="./assets/css/w3.css">
    <link rel="stylesheet" href="./assets/css/site.min.css">
    <link rel="stylesheet" href="./assets/css/orgao.min.css">
    <link rel="shortcut icon" href="./assets/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>

<body id="corpo" class="bg-light text-dark orgao-background">
    <header>
        <div id="linhaVermelha" class="linha-vermelha" style="display:none"></div>
        <nav id="navBar" class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-light border-bottom box-shadow mb-3" style="display:block">
            <div id="linhaNavBar" class="justify-content-sm-around container-sm">

                <button type="button" id="botaoOpcoes" class="input-group-text" onclick="mostrarModal('opcoes')">
                    <img src="./assets/lib/icons/options.svg" width="19" height="19" alt="Options">
                </button>
                <div id="fullscreenDiv">
                <button type="button" class="input-group-text" id="botaoFullscreen" onclick="mudarParaFullscreen()">
                    <i class="bi bi-arrows-fullscreen"></i>
                </button>
                    <button type="button" class="input-group-text" id="exitfullscreen" style="display:none" onclick="sairDeFullscreen()">
                        <img src="./assets/lib/icons/exitFull.svg" width="17" height="17" alt="ExitFull">
                    </button>
                </div>

                <button class="input-group-text" onclick="mostrarModal('instrumento')" id="titulo">
                    Órgão ▼
                </button>

                <h4 id="tituloConfiguracaoTeclas" style="display:none">
                    Configuração
                </h4>

                <h4 id="tituloGravacaoCifras" style="display:none">
                    Gravação
                </h4>

                <button type="button" id="botaoSalvar" class="input-group-text" onclick="mostrarModal('salvar')">
                    <img src="./assets/lib/icons/floppy.svg" width="19" height="19" alt="Salvar">
                </button>

                <div id="switchDarkDiv">
                    <label for="theme" class="theme">
                        <span class="theme__toggle-wrap">
                            <input id="switchDark" class="theme__toggle" type="checkbox" role="switch" name="theme" value="dark" onclick="DarkMode()" />
                            <span class="theme__icon">
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                                <span class="theme__icon-part"></span>
                            </span>
                        </span>
                    </label>
                </div>
                <div id="muteDiv" style="display:none">
                    <button type="button" id="botaoMute" class="input-group-text" dataEventoTecla="eventoClick" onclick="mutarVolume()">
                        <img src="./assets/lib/icons/mute.svg" width="20" height="20" alt="Mute" id="iconVolumeMute" style="display:none">
                        <img src="./assets/lib/icons/volume.svg" width="20" height="20" alt="Volume" id="iconVolume">
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <div id="modal01" class="w3-modal">
        <div class="w3-modal-content">
            <div class="w3-container">
                <div id="botaoFecharModal">
                    <span class="w3-button w3-display-topright" id="spanBotaoFecharModal">
                        <button class="btn btn-close" type="button" onclick="ocultarModal()">
                        </button>
                    </span>
                </div>

                <div id="oracoesEucaristicasDiv" style="display:none">
                    <br />
                    <!-- <partial name="~/Views/Liturgia/OracaoEucaristicaII.cshtml" /> -->
                </div>

                <div id="sobreDiv" style="display:none">
                    <!-- <partial name="~/Views/Orgao/Sobre.cshtml" /> -->
                </div>

                <div id="selectInstrumento">
                    <br />
                    <h4>Instrumento</h4>
                    <br />
                    <select class="form-control" tyle="height:3m" onchange="selecionarInstrumento(false, true)" id="instrumentoSelect">
                        <option selected value="Órgão">Órgão</option>
                        <option value="Banda">Banda</option>
                        <!-- @* <option value="Strings">Strings</option> *@
                        @* <option value="Bateria">Só Bateria</option> *@ -->
                    </select>
                    <br />
                </div>

                <div id="selectOpcoes">
                    <br />
                    <h4>Menu</h4>
                    <ul class="navbar-nav flex-grow-1">
                        <li class="nav-item">
                            <a class="nav-link orgao" asp-area="" asp-controller="Home" asp-action="Index">Início</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link orgao" onclick="mostrarLiturgiaDiaria()">Liturgia Diária</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link orgao" onclick="mostrarModal('oracoesEucaristicas')">Orações Eucarísticas</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link orgao" onclick="mostrarModal('configuracaoOpcoes')">Configuração</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link orgao" asp-area="" asp-controller="Youtube" asp-action="Index">Youtube</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link orgao" asp-area="" asp-controller="Sugestoes" asp-action="Index">Sugestões</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link orgao" onclick="mostrarModal('sobre')">Sobre</a>
                        </li>
                    </ul>
                </div>

                <div id="selectConfiguracao" style="display:none">
                    <br />
                    <h4>Configuração das Teclas</h4>
                    <br />
                    <a href="#" class="nav-link orgao" onclick="mostrarModal('configuracao')">Configurar as Teclas pelo teclado físico</a>
                    <a href="#" class="nav-link orgao" onclick="limparConfiguracaoTeclas()">Limpar as Configurações de Teclas</a>
                    <a href="#" class="nav-link orgao" onclick="limparConfiguracaoTodas()">Limpar TODAS as Configurações do site</a>
                    <br />
                </div>

                <div id="tecladoTeclasDiv" style="display:none">
                    <br />
                    <h4>Configuração das Teclas</h4>
                    Digite a tecla que irá pressionar esse botão:
                    <br />
                    <p style="font-weight: bold" id="inputTeclaLabel"></p>
                    <button id="botaoOkTecla" class="btn btn-primary" type="button" onclick="armazenarTeclaConfiguracaoTeclas()" disabled>
                        Ok
                    </button>
                    <br /><br />
                </div>

                <div id="compartilharDiv">
                    <br />
                    <h4>Compartilhar Salvamentos</h4>
                    Link do arquivo criado no seu Google Drive:
                    <br />
                    <a id="arquivoIdLink" href="" target="_blank"></a>
                    <br />
                    <br />
                    Compartilhamento <span id="nomeCompartilhamentoSpan"></span>
                    <div id="arquivoIdText"></div>
                    <br />
                    <button class="btn btn-primary" type="button" onclick="mostrarSalvamentoCompartilhado()">
                        Compartilhar
                    </button>
                    <br />
                    <br />
                </div>

                <div id="salvarDiv">
                    <br />
                    <h4>Salvamentos
                        <button class="btn btn-light me-1" type="button" onclick="trocarSalvamento()">
                            <i class="bi bi-arrow-left-right"></i>
                        </button>
                        <button class="btn btn-secondary me-1" type="button" onclick="compartilhar_Salvamentos()">
                            <i class="bi bi-share"></i>
                        </button>
                    </h4>

                    <div id="compartilhadoDiv">
                        Conjunto:
                        <br />
                        <div class="d-flex">
                            <select class="form-control me-1" tyle="height:3m" id="selectConjuntoSalvamento" onchange="carregarSalvamentosList(this.value)">
                                <option selected value="salvamentosv2">Nesse dispositivo</option>
                                <option value="compartilhados">Compartilhado</option>
                            </select>
                            <button class="btn btn-danger me-1" type="button" onclick="deletarSalvamento(true)">
                                <i class="bi bi-trash"></i>
                            </button>
                        </div>
                        <br />
                    </div>
                    
                    Selecionar salvamento:
                    <br />
                    <select class="form-control" tyle="height:3m" id="selectSalvamento">
                        <option selected value=""></option>
                    </select>
                    <br />

                    <button class="btn btn-warning" type="button" onclick="novoSalvamento()">
                        <i class="bi bi-plus-lg"></i>
                    </button>

                    <button class="btn btn-success" type="button" onclick="editarSalvamento()">
                        <i class="bi bi-pencil"></i>
                    </button>

                    <button class="btn btn-danger" type="button" onclick="deletarSalvamento()">
                        <i class="bi bi-trash"></i>
                    </button>

                    <button class="btn btn-primary" type="button" onclick="salvarSalvamento()">
                        <i class="bi bi-download"></i>
                        Salvar
                    </button>

                    <button class="btn btn-primary" type="button" onclick="carregar_Salvamento()">
                        <i class="bi bi-upload"></i>
                        Carregar
                    </button>
                    <br /><br />
                </div>

                <div id="modalGravar">
                    <br />
                    <h4>Cifras</h4>
                    <div id="botoesGravacao" style="display: none">
                        Selecionar gravação:
                        <br />
                        <select class="form-control" tyle="height:3m" id="selectGravacao">
                            <option selected value=""></option>
                        </select>

                        <button class="btn btn-success" type="button" onclick="novaGravacao()">
                            <i class="bi bi-plus-square"></i>
                        </button>

                        <button class="btn btn-danger" type="button" onclick="deletarGravacao()">
                            <i class="bi bi-trash"></i>
                        </button>
                        <br /><br />

                    </div>
                    <label for="musicaSearch">Pesquisar música:</label>
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="" aria-label="Pesquisar" aria-describedby="basic-addon1" name="texto" id="musicaSearch">
                        <span class="input-group-text" id="basic-addon1" onclick="pesquisarMusica()">
                            <i class="bi bi-search"></i>
                        </span>
                    </div>
                    <br />
                    <div id="linksCifraClubList" style="display:block">
                        <div class="list-group" id="listaMusicasCifra">                            
                        </div>
                    </div>
                    <div id="escreverCifraTextArea">
                        <label for="musicaAcordesTextArea">Escrever cifra:</label>
                        <textarea class="form-control" id="musicaAcordesTextArea" rows="9" style="font-size: 13pt; font-family: 'Roboto Mono','Courier New','Courier',monospace; line-height: 1.6; tab-size: 8"></textarea>
                    </div>
                    <br />
                    <label for="formFile" class="form-label">Importar partitura (imagem):</label>
                    <div class="d-flex align-items-center">
                        <input class="form-control" type="file" id="formFile" onchange="escolherArquivo(event)">
                        <button b-c3rtqodnk9="" class="btn btn-close me-1" type="button" onclick="document.getElementById('formFile').value = ''"></button>
                    </div>
                    <br />

                    <div class="d-flex align-items-center">
                        <button id="botaoIniciar" class="btn btn-primary me-1" type="button" onclick="iniciarCifra()">
                            Iniciar
                        </button>
                        <button class="btn btn-secondary me-1" type="button" onclick="gravarCifra()">
                            Escrever cifras
                        </button>
                        <button class="btn btn-secondary me-1" type="button" id="btnAfinador" onclick="mostrarAfinador()">
                            Afinador
                        </button>
                    </div>
                    
                    <div id="tunerDiv" style="display:none">
                        <!-- <partial name="~/Views/Orgao/Tuner.cshtml" /> -->
                    </div>
                    <br />
                    <br />
                </div>
            </div>
        </div>
    </div>

    <div>
        <main role="main" class="pb-3">
            <div id="tracker-container" style="display:none">
                <div id="container" class="container d-sm-flex" style="display:none">
                    <div class="box" id="orgaoBox">
                        <div id="linhaSelectTom" class="d-flex align-items-center justify-content-center">
                            <div class="d-flex align-items-center">
                                <div class="d-flex">
                                    <input class="btn btn-link me-1" type="button" id="voltar" value="&laquo; Voltar" onclick="voltarParaOrgao()" style="display:none">
                                    <button class="btn btn-primary me-1" id="diminuirTomMenos" type="button" ondblclick="aumentarTom_clickDuplo(false)" dataEventoTecla="eventoClick" onclick="aumentarTom_click(false)">
                                        <i class="bi bi-dash-lg"></i>
                                    </button>
                                    <select class="form-control me-1" id="tomSelect" onchange="prepararMudarTomCifra(this.value)" dataEventoTecla="eventoClick" onclick="pegarTomCifra(this.value)" style="text-align-last:center">
                                    </select>
                                    <button class="btn btn-primary me-1" id="aumentarTomMais" type="button" ondblclick="aumentarTom_clickDuplo(true)" dataEventoTecla="eventoClick" onclick="aumentarTom_click(true)">
                                        <i class="bi bi-plus-lg"></i>
                                    </button>
                                </div>
            
                            </div>
                            <div class="form-check form-switch naoSelecionarTexto" id="tomMenorSwitchDiv">
                                <input class="form-check-input" type="checkbox" role="switch" id="tomMenorSwitch" dataEventoTecla="eventoChange" onchange="selecionarTomMenor(this.checked)">
                                <label for="tomMenorSwitch" class="form-check-label" id="textoAcordeMenor">
                                    
                                </label>
                            </div>
                            <button class="btn btn-light border-primary me-1" type="button" onclick="" style="display:none">
                                <span style="color:#85AFEB">▲▼</span>
                            </button>
                        </div>
            
                        <div id="textoCifrasFrame" style="display:none">
                            <iframe id="textoCifras" style="width:100%; display:none"></iframe>
                            <iframe id="partituraFrame" style="width:100%; display:none"></iframe>
                            <iframe id="liturgiaDiariaFrame" src="https://liturgiadiaria.edicoescnbb.com.br/" style="width:100%; display:none"></iframe>
                        </div>
            
                        <div class="d-flex align-items-center centralizado-no-container" id="orgaoTable">
                            <!-- @* <table id="orgaoTable" style="margin-left: -12px"> *@ -->
                            <table id="tableOrgao">
                                <tr class="orgaoControles" id="orgaoControle">
                                    <td>
                                        <div class="form-check naoSelecionarTexto" id="acompCheckDiv">
                                            <input class="form-check-input me-1" type="checkbox" value="" id="acompCheck" style="width:1.5em;margin-left:-0.5em" dataEventoTecla="eventoChange" onchange="mostrarBateria(this.checked)">
                                            <br />Acomp
                                        </div>
                                    </td>
                                    <td>
                                        <button id="botaoBuscar" data-playing="false" class="botao parar" onclick="mostrarModal('gravar')">
                                            <i class="bi bi-search"></i>
                                        </button>
                                        <button id="play_pause" data-playing="false" class="botao parar" dataEventoTecla="eventoClick" onclick="escolherAcorde('', this)" style="display:none">
                                            <i class="bi bi-stop-fill"></i>
                                        </button>
                                    </td>
                                    <td>
                                        <button id="stringsBotao" class="botao instrumento" onmousedown="escolherAcompanhamentoBateria(this, '_stringsSelecionado')" dataeventotecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)">
                                            <svg height="35px" width="35px" version="1.1" id="violinoDesenho" viewBox="0 0 32 32" xml:space="preserve" class="st0">
                                            <polygon points="8.1,25.4 6.6,23.9 8.9,20.1 11.9,23.1 "></polygon>
                                            <polygon points="24.5,6 26,7.5 17.1,17.9 14.1,14.9 "></polygon>
                                            <polygon points="26,7.5 24.5,6 26,3 29,6 "></polygon>
                                            <line x1="23.1" y1="4.5" x2="24.5" y2="6"></line>
                                            <line x1="26" y1="7.5" x2="27.5" y2="8.9"></line>
                                            <line x1="20.1" y1="6" x2="21.6" y2="7.5"></line>
                                            <line x1="24.5" y1="10.4" x2="26" y2="11.9"></line>
                                            <path d="M18.8,10.9c-2.4-1.4-5.6-1.1-7.6,1L11,12.1c0.6,1.2,0.4,2.6-0.6,3.6c-1.2,1.2-3.2,1.2-4.4,0.1 c-0.3,0.2-0.6,0.4-0.8,0.7c-2.9,2.9-2.9,7.6,0,10.4c2.9,2.9,7.6,2.9,10.4,0c0.3-0.3,0.5-0.5,0.7-0.8c-1.2-1.2-1.2-3.2,0.1-4.4 c1-1,2.4-1.2,3.6-0.6l0.1-0.1c2.1-2.1,2.4-5.2,1-7.6"></path>
                                            </svg>
                                        </button>
                                    </td>
                                
                                    <td id="tdVolume" rowspan="5" colspan="">
                                        <div class="naoSelecionarTexto" style="display: flex; align-items: center" id="volumeDiv">
                                            <input type="range" id="volumeInput" orient="vertical" min="0" max="1" value="0.9" step="0.1" oninput="alterarVolume(this.value, 0.9)">
                                            <div id="textoVolume" class="textoVertical">Volume <span id="volumeTexto">9</span></div>
                                        </div>
                                    </td>
                                </tr>
                                <tr id="gravarCifrasControle" style="display:none">
                                    <td colspan="4">
                                        <input type="text" class="form-control" id="textoGravarCifras">
                                    </td>
                                    <td></td>
                                    <td>
                                    </td>
                                </tr>
                                
                                <tr class="orgaoBotoes">
                                    <td><input type="button" class="botao azul acorde" id="acorde_0" value="C" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('C', this)"></td>
                                    <td><input type="button" class="botao vermelho acorde" id="acorde_3" value="F" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('F', this)"></td>
                                    <td><input type="button" class="botao amarelo acorde" id="acorde_4" value="G" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('G', this)"></td>
                                    <td></td>
                                </tr>
                                <tr class="orgaoBotoes">
                                    <td><input type="button" class="botao roxo acorde" id="acorde_5" value="Am" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('Am', this)"></td>
                                    <td><input type="button" class="botao rosa acorde" id="acorde_1" value="Dm" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('Dm', this)"></td>
                                    <td><input type="button" class="botao marrom acorde" id="acorde_2" value="Em" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('Em', this)"></td>
                                </tr>
                                <tr class="orgaoBotoes">
                                    <td><input id="acorde_9" style="display:none" type="button" class="botao roxoClaro acorde" value="A" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('A', this)"></td>
                                    <td><input id="acorde_7" style="display:none" type="button" class="botao rosaClaro acorde" value="D" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('D', this)"></td>
                                    <td><input id="acorde_10" style="display:none" type="button" class="botao marromClaro acorde" value="E" dataEventoTecla="eventoMouseup" onmouseup="escolherAcorde('E', this)"></td>
                                </tr>
                                
                                <tr id="orgaoCifrasBotoes" style="display:none">
                                    <td>
                                        <button class="botao vermelho acorde" onmousedown="avancarCifra('retroceder', this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)" id="cifraRetroceder">
                                            <i class="bi bi-skip-backward-fill"></i>
                                        </button>
                                    </td>
                                    <td>
                                        <button class="botao marrom acorde" onmousedown="avancarCifra('repetir', this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)" id="cifraRepetir">
                                            <i class="bi bi-arrow-clockwise"></i>
                                        </button>
                                    </td>
                                    <td>
                                        <button class="botao azul acorde" onmousedown="avancarCifra('avancar', this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)" id="cifraAvancar">
                                            <i class="bi bi-play-fill"></i>
                                        </button>
                                    </td>
                                </tr>
                                
                                <tr class="botoesAcompanhamentosRitmo">
                                    <td>
                                        <button id="baixo" class="botao dedo" onmousedown="escolherAcompanhamentoOrgao('baixo', this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)">
                                            <img src="assets/lib/icons/handLeft.svg" width="28" height="28">
                                        </button>
                                                                        
                                        <button id="pianoBotao" class="botao dedo" onmousedown="escolherAcompanhamentoBateria(this, '_epianoSelecionado')" dataeventotecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)" style="display:none">
                                            <svg height="35px" width="35px" version="1.1" id="Icons" viewBox="0 0 32 32" xml:space="preserve" class="st0">
                                            <rect x="3" y="4" width="26" height="24" />
                                            <line x1="9" y1="17" x2="9" y2="28" />
                                            <rect x="6" y="4" width="4" height="13" />
                                            <line x1="16" y1="17" x2="16" y2="28" />
                                            <rect x="14" y="4" width="4" height="13" />
                                            <line x1="23" y1="17" x2="23" y2="28" />
                                            <rect x="22" y="4" width="4" height="13" />
                                            </svg>
                                        </button>
                                    </td>
                                    <td>
                                        <button id="mao" class="botao mao" onmousedown="escolherAcompanhamentoOrgao('mao', this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)">
                                            <img src="assets/lib/icons/handRight.svg" width="28" height="28">
                                        </button>
                                
                                        <button id="baixoBotao" class="botao dedo" onmousedown="escolherAcompanhamentoBateria(this, '_baixoSelecionado')" dataeventotecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)" style="display:none">
                                            <svg height="35px" width="35px" version="1.1" id="Icons" viewBox="0 0 32 32" xml:space="preserve" class="st0">
                                            <path d="M12.8,21.8L12.8,21.8c-1.7-1.4-2.3-3.8-1.5-5.9l4.1-10.7C16.3,3,19,2.3,20.8,3.8l0,0c1.4,1.2,1.6,3.3,0.5,4.7 l-1.1,1.5l1.4,6.2c0.4,1.9-0.2,3.9-1.7,5.1l-0.4,0.4C17.5,23.4,14.7,23.4,12.8,21.8z" />
                                            <line x1="14" y1="29" x2="14" y2="22.5" />
                                            <line x1="19" y1="22.1" x2="19" y2="29" />
                                            <line x1="9.6" y1="14.9" x2="11.4" y2="15.7" />
                                            <line x1="10.6" y1="11.9" x2="12.5" y2="12.8" />
                                            <line x1="11.6" y1="8.9" x2="13.6" y2="9.8" />
                                            <line x1="12.6" y1="5.9" x2="14.8" y2="6.9" />
                                            </svg>
                                        </button>
                                    </td>
                                    <td>
                                        <button id="full" class="botao duasmaos" onmousedown="escolherAcompanhamentoOrgao('full', this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)">
                                            <img src="assets/lib/icons/hands.svg" width="50" height="30">
                                        </button>
                                
                                        <button id="violaoBotao" class="botao dedo" onmousedown="escolherAcompanhamentoBateria(this, '_violaoSelecionado')" dataeventotecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)" style="display:none">
                                            <svg height="35px" width="35px" version="1.1" id="violaoDesenho" viewBox="0 0 32 32" xml:space="preserve" class="st0">
                                            <path d="M20.4,24.8l1.5-3.9c0.4-1.1,1.3-2.1,2.4-2.7l0,0c3.2-1.7,3.7-6.1,1-8.8l-2.3-2.3c-2.7-2.7-7.1-2.2-8.8,1l0,0 c-0.6,1.1-1.5,1.9-2.7,2.4l-3.9,1.5c-4.6,1.8-5.6,7.8-2,11.4L9,26.8C12.7,30.4,18.6,29.4,20.4,24.8z" />
                                            <circle cx="18.2" cy="14.3" r="2.9" />
                                            <line x1="9.7" y1="19.1" x2="13.4" y2="22.8" />
                                            <polyline points="26.3,3.5 22.9,6.9 25.6,9.6 29,6.2 " />
                                            </svg>
                                        </button>
                                    </td>
                                </tr>
                                
                                <div class="modal" id="modal_loading" data-backdrop="static" style="display:none">
                                    <div class="modal-dialog modal-sm">
                                        <div class="modal-content">
                                            <div class="modal-body text-center">
                                                <div class="loading-spinner mb-2"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </table>
                        </div>
                    </div>
            
                    <div class="box d-sm-flex" id="bateriaBox">
                        <div class="centralizado-no-container pure-form">
                            <div id="bateriaBotoes" style="display:none">
                                <table id="tableRitmo" class="justify-content-center">
                                    <tr>
                                        <td>
                                            <div class="form-check naoSelecionarTexto" id="autoCheckDiv">
                                                <input class="form-check-input me-1" type="checkbox" value="" id="autoCheck" dataEventoTecla="eventoChange" style="width:1.5em;margin-left:-0.5em">
                                                Auto<br />Ritmo
                                            </div>
                                        </td>
                                        <td style="position: relative">
                                            <div class="light" id="lightCompasso"></div>
                                            <button id="play_pause_bateria" data-playing="false" class="botao parar" onmousedown="playBotaoBateria(this, false)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this)">
                                                <img src="assets/lib/icons/playPause.svg" width="26" height="26" id="prepararBateriaBotao">
                        
                                                <i class="bi bi-stop-fill" style="display:none" id="pararBateriaBotao"></i>
                                            </button>
                                        </td>
                                        <td>
                                            <select class="form-control" onchange="selecionarInstrumento(true)" id="selectRitmo" style="height:45px;width:93px;font-size:18px">
                                                <option selected value=""></option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr class="trCravoBotoes" style="display:none">
                                        <td>
                                            <button id="brushCravo" class="botao dedo" onmousedown="playBotaoBateria(this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <svg width="35" height="35" viewBox="0 0 32 32">
                                                    <g>
                                                        <path d="M13.9,6.7C13,3.5,10.1,1.4,7.2,2C4.3,2.5,2.4,5.5,2.7,8.9C6.6,9.4,10.5,8.6,13.9,6.7z" />
                                                        <path d="M11.8,14.3c1.6-1.2,2.5-3.2,2.5-5.4c-2.8,1.5-6,2.2-9.1,2.2c-0.6,0-1.3,0-1.9-0.1c0.8,2,2.4,3.6,4.2,4.1l1.7,11.7 c0.1,0.8,0.5,1.5,1.1,1.9c0.5,0.4,1.1,0.5,1.6,0.5c0.2,0,0.3,0,0.5,0c0.8-0.1,1.4-0.6,1.8-1.2c0.4-0.6,0.5-1.4,0.3-2.2L11.8,14.3z" />
                                                    </g>
                                                    <g>
                                                        <path d="M29,10.6c0.3-3.2-1.5-6.1-4.3-6.6c0,0,0,0,0,0c-2.8-0.5-5.6,1.5-6.5,4.6C21.5,10.3,25.3,11.1,29,10.6z" />
                                                        <path d="M26.8,12.7c-3.1,0-6.1-0.7-8.9-2.1c0,2.1,0.9,4,2.4,5.1l-2.7,10.9c-0.2,0.7-0.1,1.5,0.3,2.1c0.4,0.6,1,1.1,1.8,1.2 c0.2,0,0.3,0,0.5,0c0.6,0,1.1-0.2,1.6-0.5c0.6-0.4,1-1.1,1.1-1.8l1.6-11.2c1.8-0.5,3.2-2,4-3.9C28,12.7,27.4,12.7,26.8,12.7z" />
                                                    </g>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>
                                            <button id="cravo" class="botao dedo" onmousedown="playBotaoBateria(this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <svg version="1.0" width="32" height="32" viewBox="0 0 405.000000 405.000000" preserveAspectRatio="xMidYMid meet">
                                                    <g transform="translate(0.000000,405.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
                                                        <path d="M29 4031 l-24 -19 -3 -1971 -2 -1971 2025 0 2025 0 0 1140 0 1140 -23 14 c-12 8 -200 59 -417 114 -430 108 -505 134 -650 230 -100 65 -239 200 -300 291 -23 35 -159 276 -301 535 -142 259 -267 481 -278 494 l-19 22 -1005 0 c-974 0 -1005 -1 -1028 -19z m2085 -658 c132 -241 263 -475 293 -521 62 -96 208 -251 302 -322 176 -129 293 -175 734 -286 l347 -87 0 -188 0 -189 -1755 0 -1755 0 0 1015 0 1015 798 0 797 0 239 -437z m-1512 -2269 l3 -356 24 -19 c21 -17 41 -19 201 -19 160 0 180 2 201 19 l24 19 3 356 3 356 69 0 69 0 3 -356 3 -356 24 -19 c21 -17 41 -19 201 -19 160 0 180 2 201 19 l24 19 3 356 3 356 69 0 69 0 3 -356 3 -356 24 -19 c21 -17 41 -19 201 -19 160 0 180 2 201 19 l24 19 3 356 3 356 69 0 69 0 3 -356 3 -356 24 -19 c21 -17 41 -19 201 -19 160 0 180 2 201 19 l24 19 3 356 3 356 69 0 69 0 3 -356 3 -356 24 -19 c21 -17 41 -19 201 -19 160 0 180 2 201 19 l24 19 3 356 3 356 164 0 165 0 0 -515 0 -515 -1755 0 -1755 0 0 515 0 515 160 0 159 0 3 -356z m298 56 l0 -300 -70 0 -70 0 0 300 0 300 70 0 70 0 0 -300z m600 0 l0 -300 -70 0 -70 0 0 300 0 300 70 0 70 0 0 -300z m600 0 l0 -300 -70 0 -70 0 0 300 0 300 70 0 70 0 0 -300z m600 0 l0 -300 -70 0 -70 0 0 300 0 300 70 0 70 0 0 -300z m600 0 l0 -300 -70 0 -70 0 0 300 0 300 70 0 70 0 0 -300z" />
                                                    </g>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>
                                            <button id="pratoCravo" class="botao amarelo parar" onmousedown="pressionarBotao(this, false)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <svg fill="#000000" height="32" width="32" version="1.1" id="iconChimesCravo" viewBox="0 0 512 512" xml:space="preserve">
                                                    <g><g>
                                                        <path d="M472.595,41.339h-27.441c-13.057,0-25.42-6.315-33.071-16.896C401.012,9.138,383.124,0,364.234,0h-216.47 c-18.89,0-36.777,9.138-47.849,24.444c-7.65,10.58-20.013,16.896-33.07,16.896H39.403c-18.676,0-33.87,15.195-33.87,33.87v61.575 c0,5.036,4.082,9.119,9.119,9.119h52.282v29.181H53.56c-5.037,0-9.119,4.083-9.119,9.119v149.55c0,5.036,4.082,9.119,9.119,9.119 h44.987c5.037,0,9.119-4.083,9.119-9.119v-149.55c0-5.036-4.082-9.119-9.119-9.119H85.172v-29.181h71.736v29.181h-13.374 c-5.037,0-9.119,4.083-9.119,9.119v195.021c0,5.036,4.082,9.119,9.119,9.119h44.987c5.037,0,9.119-4.083,9.119-9.119V184.202 c0-5.036-4.082-9.119-9.119-9.119h-13.374v-29.181h71.736v29.181h-13.374c-5.037,0-9.119,4.083-9.119,9.119V429.44 c0,5.036,4.082,9.119,9.119,9.119h44.987c5.037,0,9.119-4.083,9.119-9.119V184.202c0-5.036-4.082-9.119-9.119-9.119h-13.374 v-29.181h71.736v29.181H323.48c-5.037,0-9.119,4.083-9.119,9.119v285.817c0,5.036,4.082,9.119,9.119,9.119h44.987 c5.037,0,9.119-4.083,9.119-9.119V184.202c0-5.036-4.082-9.119-9.119-9.119h-13.374v-29.181h71.736v29.181h-13.374 c-5.037,0-9.119,4.083-9.119,9.119v318.679c0,5.036,4.082,9.119,9.119,9.119h44.987c5.037,0,9.119-4.083,9.119-9.119V184.202 c0-5.036-4.082-9.119-9.119-9.119h-13.374v-29.181h52.282c5.037,0,9.119-4.083,9.119-9.119V75.209 C506.467,56.534,491.272,41.339,472.595,41.339z M89.428,193.321v131.313H62.679V193.321H89.428z M179.401,193.321v176.783 h-26.749V193.321H179.401z M269.374,193.321v226.999h-26.749V193.321H269.374z M359.348,193.321V460.9h-26.749V193.321H359.348z M449.321,193.321v300.441h-26.749V193.321H449.321z M445.066,127.665V96.661c0-5.036-4.082-9.119-9.119-9.119 c-5.037,0-9.119,4.083-9.119,9.119v31.004h-71.736V96.661c0-5.036-4.082-9.119-9.119-9.119s-9.119,4.083-9.119,9.119v31.004 h-71.736V96.661c0-5.036-4.082-9.119-9.119-9.119c-5.037,0-9.119,4.083-9.119,9.119v31.004h-71.736V96.661 c0-5.036-4.082-9.119-9.119-9.119s-9.119,4.083-9.119,9.119v31.004H85.172V96.661c0-5.036-4.082-9.119-9.119-9.119 s-9.119,4.083-9.119,9.119v31.004H23.771V75.209c0-8.62,7.013-15.632,15.632-15.632h27.441c18.891,0,36.779-9.138,47.849-24.444 c7.653-10.579,20.015-16.896,33.071-16.896h216.47c13.056,0,25.419,6.316,33.07,16.896c11.072,15.305,28.959,24.444,47.85,24.444 h27.441c8.62,0,15.632,7.013,15.632,15.632v52.456H445.066z" />
                                                    </g></g>
                                                </svg>
                                                <svg width="32" height="32" viewBox="0 0 32 32" id="iconPratoCravo" style="display:none">
                                                    <g>
                                                        <path d="M19,16c-1.7,0-3,1.3-3,3c0,0.9,0.4,1.7,1,2.2V20c0-0.6,0.4-1,1-1h2c0.6,0,1,0.4,1,1v1.2c0.6-0.6,1-1.3,1-2.2 C22,17.3,20.7,16,19,16z" />
                                                        <path d="M19,8C12.9,8,8,12.9,8,19s4.9,11,11,11s11-4.9,11-11S25.1,8,19,8z M21.5,23.3c-0.2,0.1-0.3,0.1-0.5,0.1V26c0,0.6-0.4,1-1,1 h-2c-0.6,0-1-0.4-1-1v-2.4c-1.8-0.8-3-2.6-3-4.6c0-2.8,2.2-5,5-5s5,2.2,5,5C24,20.8,23,22.4,21.5,23.3z" />
                                                        <path d="M6,19c0-7.2,5.8-13,13-13c0.9,0,1.8,0.1,2.7,0.3C19.7,3.6,16.5,2,13,2C6.9,2,2,6.9,2,13c0,3.5,1.6,6.7,4.3,8.7 C6.1,20.8,6,19.9,6,19z" />
                                                    </g>
                                                </svg>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="trBateriaBotoes">
                                        <td>
                                            <button id="brush" class="botao dedo" onmousedown="playBotaoBateria(this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <svg width="35" height="35" viewBox="0 0 32 32">
                                                    <g>
                                                        <path d="M13.9,6.7C13,3.5,10.1,1.4,7.2,2C4.3,2.5,2.4,5.5,2.7,8.9C6.6,9.4,10.5,8.6,13.9,6.7z" />
                                                        <path d="M11.8,14.3c1.6-1.2,2.5-3.2,2.5-5.4c-2.8,1.5-6,2.2-9.1,2.2c-0.6,0-1.3,0-1.9-0.1c0.8,2,2.4,3.6,4.2,4.1l1.7,11.7 c0.1,0.8,0.5,1.5,1.1,1.9c0.5,0.4,1.1,0.5,1.6,0.5c0.2,0,0.3,0,0.5,0c0.8-0.1,1.4-0.6,1.8-1.2c0.4-0.6,0.5-1.4,0.3-2.2L11.8,14.3z" />
                                                    </g>
                                                    <g>
                                                        <path d="M29,10.6c0.3-3.2-1.5-6.1-4.3-6.6c0,0,0,0,0,0c-2.8-0.5-5.6,1.5-6.5,4.6C21.5,10.3,25.3,11.1,29,10.6z" />
                                                        <path d="M26.8,12.7c-3.1,0-6.1-0.7-8.9-2.1c0,2.1,0.9,4,2.4,5.1l-2.7,10.9c-0.2,0.7-0.1,1.5,0.3,2.1c0.4,0.6,1,1.1,1.8,1.2 c0.2,0,0.3,0,0.5,0c0.6,0,1.1-0.2,1.6-0.5c0.6-0.4,1-1.1,1.1-1.8l1.6-11.2c1.8-0.5,3.2-2,4-3.9C28,12.7,27.4,12.7,26.8,12.7z" />
                                                    </g>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>
                                            <button id="aro" class="botao dedo" onmousedown="playBotaoBateria(this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <svg width="35" height="35" viewBox="0 0 32 32">
                                                    <g>
                                                        <path d="M3,20.8V25c0,3.3,6.5,5,13,5s13-1.7,13-5v-4.2c-2.8,2.3-8.2,3.2-13,3.2S5.8,23.1,3,20.8z" />
                                                        <path d="M29.8,2.3c-0.4-0.4-1-0.5-1.4-0.1l-16,14c-0.4,0.4-0.5,1-0.1,1.4c0.2,0.2,0.5,0.3,0.8,0.3c0.2,0,0.5-0.1,0.7-0.2l16-14 C30.1,3.4,30.1,2.8,29.8,2.3z" />
                                                        <path d="M22.5,12.6L15,19.3c-0.5,0.5-1.2,0.7-2,0.7c-0.9,0-1.7-0.4-2.3-1c-1.1-1.3-1-3.1,0.3-4.2l3.1-2.7C8.3,12.4,3,14,3,17 c0,3.3,6.5,5,13,5s13-1.7,13-5C29,14.9,26.2,13.4,22.5,12.6z" />
                                                    </g>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>
                                            <button id="caixa" class="botao dedo" onmousedown="playBotaoBateria(this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <svg width="35" height="35" viewBox="0 0 512 512"> <path d="M431.34 122.05l73.53-47.42a16 16 0 0 0 4.44-22.19l-8.87-13.31a16 16 0 0 0-22.19-4.44l-110.06 71C318.43 96.91 271.22 96 256 96 219.55 96 0 100.55 0 208.15v160.23c0 30.27 27.5 57.68 72 77.86v-101.9a24 24 0 1 1 48 0v118.93c33.05 9.11 71.07 15.06 112 16.73V376.39a24 24 0 1 1 48 0V480c40.93-1.67 78.95-7.62 112-16.73V344.34a24 24 0 1 1 48 0v101.9c44.5-20.18 72-47.59 72-77.86V208.15c0-43.32-35.76-69.76-80.66-86.1zM256 272.24c-114.88 0-208-28.69-208-64.09s93.12-64.08 208-64.08c17.15 0 33.73.71 49.68 1.91l-72.81 47a16 16 0 0 0-4.43 22.19l8.87 13.31a16 16 0 0 0 22.19 4.44l118.64-76.52C430.09 168 464 186.84 464 208.15c0 35.4-93.13 64.09-208 64.09z" /></svg>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="trBateriaBotoes">
                                        <td>
                                            <button id="chimbal" class="botao dedo" onmousedown="playBotaoBateria(this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <svg width="32" height="32" viewBox="0 0 512 512">
                                                    <g>
                                                        <g>
                                                            <path d="M442.514,210.831c-7.106-1.448-14.575-2.801-22.32-4.061c-46.076,9.44-102.01,16.097-160.96,19.039
                                                        c-21.975,1.098-43.591,1.641-64.477,1.641c-47.447,0-91.162-2.799-126.956-8.254c-6.989-1.064-13.547-2.212-19.702-3.438
                                                        C8.783,226.036,0,236.16,0,238.647c0,2.885,11.713,16.058,69.381,27.816c43.181,8.803,98.697,14.168,158.898,15.425v21.747
                                                        v120.508c0,9.207,7.649,16.67,16.856,16.67c9.207,0,16.856-7.463,16.856-16.67V303.904v-21.742h0
                                                        c68.63-0.297,132.263-5.846,180.606-15.699C500.268,254.705,512,241.532,512,238.647C512,235.762,500.184,222.589,442.514,210.831
                                                        z" />
                                                        </g>
                                                    </g>
                                                    <g>
                                                        <g>
                                                            <path d="M440.871,123.538c-34.736-5.293-77.172-8.009-123.466-8.009c-20.314,0-40.964,0.526-62.636,1.583V95.344V82.059
                                                        c0-6.005-4.832-10.871-10.836-10.871s-10.836,4.867-10.836,10.871v14.516v21.789c-62.61,4.119-120.418,12.439-164.636,23.777
                                                        c-57.011,14.618-68.206,28.365-68.063,31.245c0.144,2.88,12.536,15.45,70.719,24.318c50.153,7.642,116.573,9.913,187.047,6.392
                                                        c70.48-3.521,136.348-12.397,185.49-24.997c57.006-14.617,68.12-28.362,67.978-31.243
                                                        C511.487,144.976,499.053,132.406,440.871,123.538z" />
                                                        </g>
                                                    </g>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>
                                            <button id="ride" class="botao dedo" style="display:none">
                                            </button>
                                            <button id="meiaLua" class="botao dedo" onmousedown="playBotaoBateria(this)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <svg version="1.1" id="Icons" width="35" height="35" viewBox="0 0 32 32" xml:space="preserve" class="st0">
                                                <circle cx="16" cy="17" r="11" />
                                                <circle cx="16" cy="6" r="3" />
                                                <circle cx="6.5" cy="11.5" r="3" />
                                                <circle cx="6.5" cy="22.5" r="3" />
                                                <circle cx="25.5" cy="22.5" r="3" />
                                                <circle cx="25.5" cy="11.5" r="3" />
                                            </svg>
                                            </button>
                                        </td>
                                        <td>
                                            <button id="prato" class="botao amarelo parar" onmousedown="pressionarBotao(this, false)" dataEventoTecla="eventoTouchstart" ontouchstart="handleTouchStart(event, this, true)">
                                                <svg fill="#000000" height="32" width="32" version="1.1" id="iconChimes" viewBox="0 0 512 512" xml:space="preserve">
                                                    <g><g>
                                                        <path d="M472.595,41.339h-27.441c-13.057,0-25.42-6.315-33.071-16.896C401.012,9.138,383.124,0,364.234,0h-216.47 c-18.89,0-36.777,9.138-47.849,24.444c-7.65,10.58-20.013,16.896-33.07,16.896H39.403c-18.676,0-33.87,15.195-33.87,33.87v61.575 c0,5.036,4.082,9.119,9.119,9.119h52.282v29.181H53.56c-5.037,0-9.119,4.083-9.119,9.119v149.55c0,5.036,4.082,9.119,9.119,9.119 h44.987c5.037,0,9.119-4.083,9.119-9.119v-149.55c0-5.036-4.082-9.119-9.119-9.119H85.172v-29.181h71.736v29.181h-13.374 c-5.037,0-9.119,4.083-9.119,9.119v195.021c0,5.036,4.082,9.119,9.119,9.119h44.987c5.037,0,9.119-4.083,9.119-9.119V184.202 c0-5.036-4.082-9.119-9.119-9.119h-13.374v-29.181h71.736v29.181h-13.374c-5.037,0-9.119,4.083-9.119,9.119V429.44 c0,5.036,4.082,9.119,9.119,9.119h44.987c5.037,0,9.119-4.083,9.119-9.119V184.202c0-5.036-4.082-9.119-9.119-9.119h-13.374 v-29.181h71.736v29.181H323.48c-5.037,0-9.119,4.083-9.119,9.119v285.817c0,5.036,4.082,9.119,9.119,9.119h44.987 c5.037,0,9.119-4.083,9.119-9.119V184.202c0-5.036-4.082-9.119-9.119-9.119h-13.374v-29.181h71.736v29.181h-13.374 c-5.037,0-9.119,4.083-9.119,9.119v318.679c0,5.036,4.082,9.119,9.119,9.119h44.987c5.037,0,9.119-4.083,9.119-9.119V184.202 c0-5.036-4.082-9.119-9.119-9.119h-13.374v-29.181h52.282c5.037,0,9.119-4.083,9.119-9.119V75.209 C506.467,56.534,491.272,41.339,472.595,41.339z M89.428,193.321v131.313H62.679V193.321H89.428z M179.401,193.321v176.783 h-26.749V193.321H179.401z M269.374,193.321v226.999h-26.749V193.321H269.374z M359.348,193.321V460.9h-26.749V193.321H359.348z M449.321,193.321v300.441h-26.749V193.321H449.321z M445.066,127.665V96.661c0-5.036-4.082-9.119-9.119-9.119 c-5.037,0-9.119,4.083-9.119,9.119v31.004h-71.736V96.661c0-5.036-4.082-9.119-9.119-9.119s-9.119,4.083-9.119,9.119v31.004 h-71.736V96.661c0-5.036-4.082-9.119-9.119-9.119c-5.037,0-9.119,4.083-9.119,9.119v31.004h-71.736V96.661 c0-5.036-4.082-9.119-9.119-9.119s-9.119,4.083-9.119,9.119v31.004H85.172V96.661c0-5.036-4.082-9.119-9.119-9.119 s-9.119,4.083-9.119,9.119v31.004H23.771V75.209c0-8.62,7.013-15.632,15.632-15.632h27.441c18.891,0,36.779-9.138,47.849-24.444 c7.653-10.579,20.015-16.896,33.071-16.896h216.47c13.056,0,25.419,6.316,33.07,16.896c11.072,15.305,28.959,24.444,47.85,24.444 h27.441c8.62,0,15.632,7.013,15.632,15.632v52.456H445.066z" />
                                                    </g></g>
                                                </svg>
                                                <svg width="32" height="32" viewBox="0 0 32 32" id="iconPrato" style="display:none">
                                                    <g>
                                                        <path d="M19,16c-1.7,0-3,1.3-3,3c0,0.9,0.4,1.7,1,2.2V20c0-0.6,0.4-1,1-1h2c0.6,0,1,0.4,1,1v1.2c0.6-0.6,1-1.3,1-2.2 C22,17.3,20.7,16,19,16z" />
                                                        <path d="M19,8C12.9,8,8,12.9,8,19s4.9,11,11,11s11-4.9,11-11S25.1,8,19,8z M21.5,23.3c-0.2,0.1-0.3,0.1-0.5,0.1V26c0,0.6-0.4,1-1,1 h-2c-0.6,0-1-0.4-1-1v-2.4c-1.8-0.8-3-2.6-3-4.6c0-2.8,2.2-5,5-5s5,2.2,5,5C24,20.8,23,22.4,21.5,23.3z" />
                                                        <path d="M6,19c0-7.2,5.8-13,13-13c0.9,0,1.8,0.1,2.7,0.3C19.7,3.6,16.5,2,13,2C6.9,2,2,6.9,2,13c0,3.5,1.6,6.7,4.3,8.7 C6.1,20.8,6,19.9,6,19z" />
                                                    </g>
                                                </svg>
                                            </button>
                                        </td>
                                    </tr>
                                </table>
                        
                                <form class="pure-form" id="trackerControls">
                                    <div class="d-flex align-items-center justify-content-center">
                                        <!-- @* <label for="bpm" class="naoSelecionarTexto me-1" ontouchstart="mostrarBateriaConfig(true)" ontouchend="mostrarBateriaConfig(false)">Temp:</label><input name="bpm" id="bpm" style="width: 50px" value="90" class="form-control me-1" onchange="mudarTempoCompasso()" onblur="mudarTempoCompasso(false)"> *@ -->
                                        <label for="bpm" class="naoSelecionarTexto me-1" onclick="clicarUmBotaoTempo(parseInt(document.getElementById('bpm').value) + 5)">Temp:</label><input name="bpm" id="bpm" style="width: 50px" value="90" class="form-control me-1" onchange="mudarTempoCompasso()" onblur="mudarTempoCompasso(false)">
                                        <button class="btn btn-success me-1" type="button" onclick="clicarUmBotaoTempo(60)">
                                            60
                                        </button>
                                        <button class="btn btn-success me-1" type="button" onclick="clicarUmBotaoTempo(70)">
                                            70
                                        </button>
                                        <button class="btn btn-success me-1" type="button" onclick="clicarUmBotaoTempo(80)">
                                            80
                                        </button>
                                        <button class="btn btn-success me-1" type="button" onclick="clicarUmBotaoTempo(90)">
                                            90
                                        </button>
                                    </div>
                        
                                    <input id="bpmRange" type="range" class="form-range rangeVerde" max="100" min="50" step="1" value="90" onchange="mudarTempoCompasso(true)">
                                </form>
                                <div id="bateria" style="display:none">
                                    <div>
                                        <label for="measureLengthSelect">Compasso:</label>
                                        <select name="measureLengthSelect" id="measureLengthSelect" aria-label="Compasso">
                                            <option value="6">3/4</option>
                                            <option selected value="8">4/4</option>
                                            <option value="12">6/8</option>
                                        </select>
                                        <input class="base" name="measureLength" id="measureLength" style="width: 60px;" value="16">
                                    </div>
                        
                                    <div id="tracker-parent">
                                        <table id="tracker-table">
                                        </table>
                                    </div>
                                    <div id="tracker-controls">
                                        <div style="display:none">
                                            <button id="play">Play</button>
                                            <button id="pause">Pause</button>
                                            <button id="stop">Stop</button>
                                            <br>
                                        </div>
                                    </div>
                                    <br />
                                    <button onclick="escreverRitmo()">Get Ritmo</button>
                                    <div id="textoRitmo"></div>
                        
                                    <div style="display:none">
                                        <hr>
                                        <form class="pure-form">
                                            <input type="text" id="filename"><br>
                                            <button id="save">Save as </button><button id="saveAsJson">Get JSON</button> <br>
                        
                                            <span id="load-storage"><select id="beat-list"><option value="Select">Select</option></select></span>
                                            <button id="delete">Delete selected</button>
                                        </form>
                                    </div>
                                </div>
                        
                                <div id="mensagens" style="display:none">
                                </div>
                        
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!--<button id="startButton">Iniciar Transmissão</button>
    <button id="stopButton" disabled>Parar Transmissão</button>-->
    
<script src="./assets/lib/jquery/dist/jquery.min.js"></script>
<script src="./assets/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="./assets/js/crypto-js.min.js"></script>
<script src="./assets/js/google.min.js"></script>
<script src="./assets/js/Pizzicato.min.js"></script>
<script>
    //Impedir atualização errônea da página
    // window.onbeforeunload = function () {
    //     return "Deseja recarregar página?";
    // };

    //selectRitmo.selectedIndex = 2;

    
    const notasAcordesJson = JSON.parse('{"C":["c","e","g"],"C4":["c","f","g"],"C5+":["c","e","g#"],"C6":["c","e","g","a"],"C7":["c","e","g","a#"],"C7M":["c","e","g","b"],"C9":["c","e","g","d"],"C°":["c","d#","f#"],"C°7":["c","d#","f#","a#"],"Cm":["c","d#","g"],"Cm5+":["c","d#","g#"],"Cm6":["c","d#","g","a"],"Cm7":["c","d#","g","a#"],"Cm7M":["c","d#","g","b"],"C#":["c#","f","g#"],"C#4":["c#","f#","g#"],"C#5+":["c#","f","a"],"C#6":["c#","f","g#","a#"],"C#7":["c#","f","g#","b"],"C#7M":["c#","f","g#","c"],"C#9":["c#","f","g#","d#"],"C#°":["c#","e","g"],"C#°7":["c#","e","g","b"],"C#m":["c#","e","g#"],"C#m5+":["c#","e","a"],"C#m6":["c#","e","g#","a#"],"C#m7":["c#","e","g#","b"],"C#m7M":["c#","e","g#","c"],"D":["d","f#","a"],"D4":["d","g","a"],"D5+":["d","f#","a#"],"D6":["d","f#","a","b"],"D7":["d","f#","a","c"],"D7M":["d","f#","a","c#"],"D9":["d","f#","a","e"],"D°":["d","f","g#"],"D°7":["d","f","g#","c"],"Dm":["d","f","a"],"Dm5+":["d","f","a#"],"Dm6":["d","f","a","b"],"Dm7":["d","f","a","c"],"Dm7M":["d","f","a","c#"],"D#":["d#","g","a#"],"D#4":["d#","g#","a#"],"D#5+":["d#","g","b"],"D#6":["d#","g","a#","c"],"D#7":["d#","g","a#","c#"],"D#7M":["d#","g","a#","d"],"D#9":["d#","g","a#","f"],"D#°":["d#","f#","a"],"D#°7":["d#","f#","a","c#"],"D#m":["d#","f#","a#"],"D#m5+":["d#","f#","b"],"D#m6":["d#","f#","a#","c"],"D#m7":["d#","f#","a#","c#"],"D#m7M":["d#","f#","a#","d"],"E":["e","g#","b"],"E4":["e","a","b"],"E5+":["e","g#","c"],"E6":["e","g#","b","c#"],"E7":["e","g#","b","d"],"E7M":["e","g#","b","d#"],"E9":["e","g#","b","f#"],"E°":["e","g","a#"],"E°7":["e","g","a#","d"],"Em":["e","g","b"],"Em5+":["e","g","c"],"Em6":["e","g","b","c#"],"Em7":["e","g","b","d"],"Em7M":["e","g","b","d#"],"F":["f","a","c"],"F4":["f","a#","c"],"F5+":["f","a","c#"],"F6":["f","a","c","d"],"F7":["f","a","c","d#"],"F7M":["f","a","c","e"],"F9":["f","a","c","g"],"F°":["f","g#","b"],"F°7":["f","g#","b","d#"],"Fm":["f","g#","c"],"Fm5+":["f","g#","c#"],"Fm6":["f","g#","c","d"],"Fm7":["f","g#","c","d#"],"Fm7M":["f","g#","c","e"],"F#":["f#","a#","c#"],"F#4":["f#","b","c#"],"F#5+":["f#","a#","d"],"F#6":["f#","a#","c#","d#"],"F#7":["f#","a#","c#","e"],"F#7M":["f#","a#","c#","f"],"F#9":["f#","a#","c#","g#"],"F#°":["f#","a","c"],"F#°7":["f#","a","c","e"],"F#m":["f#","a","c#"],"F#m5+":["f#","a","d"],"F#m6":["f#","a","c#","d#"],"F#m7":["f#","a","c#","e"],"F#m7M":["f#","a","c#","f"],"G":["g","b","d"],"G4":["g","c","d"],"G5+":["g","b","d#"],"G6":["g","b","d","e"],"G7":["g","b","d","f"],"G7M":["g","b","d","f#"],"G9":["g","b","d","a"],"G°":["g","a#","c#"],"G°7":["g","a#","c#","f"],"Gm":["g","a#","d"],"Gm5+":["g","a#","d#"],"Gm6":["g","a#","d","e"],"Gm7":["g","a#","d","f"],"Gm7M":["g","a#","d","f#"],"G#":["g#","c","d#"],"G#4":["g#","c#","d#"],"G#5+":["g#","c","e"],"G#6":["g#","c","d#","f"],"G#7":["g#","c","d#","f#"],"G#7M":["g#","c","d#","g"],"G#9":["g#","c","d#","a#"],"G#°":["g#","b","d"],"G#°7":["g#","b","d","f#"],"G#m":["g#","b","d#"],"G#m5+":["g#","b","e"],"G#m6":["g#","b","d#","f"],"G#m7":["g#","b","d#","f#"],"G#m7M":["g#","b","d#","g"],"A":["a","c#","e"],"A4":["a","d","e"],"A5+":["a","c#","f"],"A6":["a","c#","e","f#"],"A7":["a","c#","e","g"],"A7M":["a","c#","e","g#"],"A9":["a","c#","e","b"],"A°":["a","c","d#"],"A°7":["a","c","d#","g"],"Am":["a","c","e"],"Am5+":["a","c","f"],"Am6":["a","c","e","f#"],"Am7":["a","c","e","g"],"Am7M":["a","c","e","g#"],"A#":["a#","d","f"],"A#4":["a#","d#","f"],"A#5+":["a#","d","f#"],"A#6":["a#","d","f","g"],"A#7":["a#","d","f","g#"],"A#7M":["a#","d","f","a"],"A#9":["a#","d","f","c"],"A#°":["a#","c#","e"],"A#°7":["a#","c#","e","g#"],"A#m":["a#","c#","f"],"A#m5+":["a#","c#","f#"],"A#m6":["a#","c#","f","g"],"A#m7":["a#","c#","f","g#"],"A#m7M":["a#","c#","f","a"],"B":["b","d#","f#"],"B4":["b","e","f#"],"B5+":["b","d#","g"],"B6":["b","d#","f#","g#"],"B7":["b","d#","f#","a"],"B7M":["b","d#","f#","a#"],"B9":["b","d#","f#","c#"],"B°":["b","d","f"],"B°7":["b","d","f","a"],"Bm":["b","d","f#"],"Bm5+":["b","d","g"],"Bm6":["b","d","f#","g#"],"Bm7":["b","d","f#","a"],"Bm7M":["b","d","f#","a#"]}');
    const acordesCampoHarmonicoJson = JSON.parse('{"C":["C","Dm","Em","F","G","Am","Bb","D","Cm","A","E"],"C#":["C#","D#m","E#m","F#","G#","A#m","B","D#","C#m","A#","E#"],"D":["D","Em","F#m","G","A","Bm","C","E","Dm","B","F#"],"D#":["D#","Fm","Gm","G#","A#","Cm","C#","F","D#m","C","G"],"E":["E","F#m","G#m","A","B","C#m","D","F#","Em","C#","G#"],"F":["F","Gm","Am","Bb","C","Dm","Eb","G","Fm","D","A"],"F#":["F#","G#m","A#m","B","C#","D#m","E","G#","F#m","D#","A#"],"G":["G","Am","Bm","C","D","Em","F","A","Gm","E","B"],"G#":["G#","Bbm","Cm","C#","D#","Fm","F#","A#","G#m","F","C"],"A":["A","Bm","C#m","D","E","F#m","G","B","Am","F#","C#"],"A#":["A#","Cm","Dm","D#","F","Gm","G#","C","A#m","G","D"],"B":["B","C#m","D#m","E","F#","G#m","A","C#","Bm","G#","D#"],"Am":["C","Dm","Em","F","G","Am","A","E","","",""],"A#m":["C#","D#m","E#m","F#","G#","A#m","A#","E#","","",""],"Bm":["D","Em","F#m","G","A","Bm","B","F#","","",""],"Cm":["Eb","Fm","Gm","Ab","Bb","Cm","C","G","","",""],"C#m":["E","F#m","G#m","A","B","Cm","C#","G#","","",""],"Dm":["F","Gm","Am","Bb","C","Dm","D","A","","",""],"D#m":["F#","G#m","A#m","C","C#","D#m","D#","A#","","",""],"Em":["G","Am","Bm","C","D","Em","E","B","","",""],"Fm":["Ab","Bbm","Cm","Db","Eb","Fm","F","C","","",""],"F#m":["A","Bm","C#m","D","E","F#m","F#","C#","","",""],"Gm":["Bb","Cm","Dm","Eb","F","Gm","G","D","","",""],"G#m":["B","C#m","D#m","E","F#","G#m","G#","D#","","",""]}');
    const acidentesCorrespondentesJson = JSON.parse('{"Cb":"B","C":"C","C#":"C#","Db":"C#","D":"D","D#":"D#","Eb":"D#","E":"E","E#":"F","Fb":"E","F":"F","F#":"F#","Gb":"F#","G":"G","G#":"G#","Ab":"G#","A":"A","A#":"A#","Bb":"A#","B":"B","B#":"C"}');
	const acordesTons = Object.keys(acordesCampoHarmonicoJson);
	const tonsMaiores = 'C, C#, D, D#, E, F, F#, G, G#, A, A#, B'.split(', ');
	const tonsMenores = '"Am", "A#m", "Bm", "Cm", "C#m", "Dm", "D#m", "Em", "Fm", "F#m", "Gm", "G#m"'.split(', ');

    var audioPath = './assets/audio/';
    if (location.origin.includes('file:'))
        audioPath = 'https://roneicostasoares.com.br/Orgao.Web/assets/audio/';

	localStorage.setItem('notasAcordesJson', JSON.stringify(notasAcordesJson));

	 var acordes = {
	 	'orgao_c': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_c.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_c#': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_c_.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_d': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_d.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_d#': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_d_.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_e': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_e.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_f': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_f.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_f#': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_f_.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_g': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_g.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_g#': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_g_.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_a': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_a.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_a#': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_a_.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_b': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_b.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		
		'orgao_c_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_c_baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_c#_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_c__baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_d_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_d_baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_d#_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_d__baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_e_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_e_baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_f_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_f_baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_f#_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_f__baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_g_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_g_baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_g#_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_g__baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_a_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_a_baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_a#_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_a__baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_b_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_b_baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),

		'orgao_c_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_c_grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_c#_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_c__grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_d_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_d_grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_d#_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_d__grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_e_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_e_grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_f_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_f_grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_f#_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_f__grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_g_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_g_grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_g#_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_g__grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_a_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_a_grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_a#_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_a__grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'orgao_b_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Orgao/orgao_b_grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),

		'epiano_c': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_c.ogg' } }),
		'epiano_c#': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_c_.ogg' } }),
		'epiano_d': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_d.ogg' } }),
		'epiano_d#': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_d_.ogg' } }),
		'epiano_e': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_e.ogg' } }),
		'epiano_f': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_f.ogg' } }),
		'epiano_f#': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_f_.ogg' } }),
		'epiano_g': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_g.ogg' } }),
		'epiano_g#': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_g_.ogg' } }),
		'epiano_a': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_a.ogg' } }),
		'epiano_a#': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_a_.ogg' } }),
		'epiano_b': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_b.ogg' } }),

		'epiano_c_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_c_baixo.ogg' } }),
		'epiano_c#_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_c__baixo.ogg' } }),
		'epiano_d_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_d_baixo.ogg' } }),
		'epiano_d#_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_d__baixo.ogg' } }),
		'epiano_e_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_e_baixo.ogg' } }),
		'epiano_f_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_f_baixo.ogg' } }),
		'epiano_f#_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_f__baixo.ogg' } }),
		'epiano_g_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_g_baixo.ogg' } }),
		'epiano_g#_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_g__baixo.ogg' } }),
		'epiano_a_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_a_baixo.ogg' } }),
		'epiano_a#_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_a__baixo.ogg' } }),
		'epiano_b_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_b_baixo.ogg' } }),

		'epiano_c_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_c_grave.ogg' } }),
		'epiano_c#_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_c__grave.ogg' } }),
		'epiano_d_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_d_grave.ogg' } }),
		'epiano_d#_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_d__grave.ogg' } }),
		'epiano_e_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_e_grave.ogg' } }),
		'epiano_f_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_f_grave.ogg' } }),
		'epiano_f#_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_f__grave.ogg' } }),
		'epiano_g_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_g_grave.ogg' } }),
		'epiano_g#_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_g__grave.ogg' } }),
		'epiano_a_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_a_grave.ogg' } }),
		'epiano_a#_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_a__grave.ogg' } }),
		'epiano_b_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Epiano/epiano_b_grave.ogg' } }),

		'strings_c': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_c.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_c#': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_c_.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_d': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_d.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_d#': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_d_.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_e': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_e.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_f': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_f.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_f#': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_f_.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_g': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_g.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_g#': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_g_.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_a': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_a.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_a#': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_a_.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_b': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_b.ogg', loop: true, release: 0.5, attack: 0.1 } }),

		'strings_c_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_c_baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_c#_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_c__baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_d_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_d_baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_d#_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_d__baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_e_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_e_baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_f_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_f_baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_f#_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_f__baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_g_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_g_baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_g#_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_g__baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_a_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_a_baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_a#_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_a__baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_b_baixo': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_b_baixo.ogg', loop: true, release: 0.5, attack: 0.1 } }),

		'strings_c_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_c_grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_c#_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_c__grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_d_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_d_grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_d#_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_d__grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_e_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_e_grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_f_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_f_grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_f#_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_f__grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_g_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_g_grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_g#_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_g__grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_a_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_a_grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_a#_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_a__grave.ogg', loop: true, release: 0.5, attack: 0.1 } }),
		'strings_b_grave': new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Strings/strings_b_grave.ogg', loop: true, release: 0.5, attack: 0.1 } })
	 };

	var pratoSound = new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Percussao/prato.ogg' } });
	var chimesSound = new Pizzicato.Sound({ source: 'file', options: { path: audioPath + 'Percussao/chimes.ogg' } });

	function mostrarCompartilhado() {
        //Comentado para funcionar por enquanto
		// if ('@Model.CompartilhadoNome' !== '') {
		// 	if ('@Model.CompartilhadoNome' === 'Erro')
		// 		alert('Ocorreu um erro ao mostrar compartilhamento! Tente novamente.');
		// 	else {
		// 		if (confirm('Carregar o compartilhamento?')) {
		// 			localStorage.setItem('compartilhados', JSON.stringify(@Html.Raw(@Model.CompartilhadoConteudo)));				
		// 			mostrarModal('salvar');
		// 		}
		// 	}
		// }

		// if (window.location.href.includes('compartilhado'))
		// 	limparUrl();
	}

	function baixar() {
		const url = 'https://drive.google.com/uc?id=' + '@Model.CompartilhadoNome' + '&export=download';
		getTextFromGoogleDrive(url)
			.then(text => {
				if (text !== null) {
					console.log(text);
					console.log(JSON.stringify(text));

					console.log('Texto do arquivo:', text);
					// Faça algo com o texto aqui
				} else {
					console.log('Falha ao obter o texto do arquivo.');
				}
			});
	}

	async function getTextFromGoogleDrive(url) {
		try {
			const response = await fetch(url);
			const text = await response.text();
			return text;
		} catch (error) {
			console.error('Erro ao buscar o texto do arquivo:', error);
			return null;
		}
	}
</script>

<script src="./assets/js/orgao.js"></script>
<script src="./assets/js/site.js"></script> 
<script src="./assets/js/bateria.js"></script>
<script src="./assets/lib/audioContext/WAAClock.js"></script>
<script src="./assets/lib/audioContext/simple-tracker.js"></script>
<script src="./assets/js/bundle.js"></script>

<!-- <script src="./assets/js/site.min.js"></script> 
<script src="./assets/js/bateria.min.js"></script>
<script src="./assets/js/bundle.min.js"></script>
<script src="./assets/js/orgao.min.js"></script> -->

<script>
    $(window).click(function (e) {
        if (e.target.className === 'w3-modal')
            ocultarModal();
    });

    var div = document.getElementById('bateria');
    var selecionarRitmoElem = document.getElementById("selecionarRitmo");
    var temporizador;

    function showBateria(mostrarBateria) {
        if (mostrarBateria) {
            document.getElementById('container').classList.remove('container');
            document.getElementById('textoBateria').style.color = 'black';
            div.style.display = 'block';
        }
        else {
            document.getElementById('container').classList.add('container');
            div.style.display = 'none';
            document.getElementById('textoBateria').style.color = 'grey';
        }
    }

    function clicarUmBotaoTempo(tempoValor) {
        var bpmElement = document.getElementById('bpm');
        document.getElementById('bpmRange').value = tempoValor;
        bpmElement.value = tempoValor;

        var novoEvento = new Event('change');
        bpmElement.dispatchEvent(novoEvento);
        mudarTempoCompasso(false);
    }

    function escreverRitmo() {
        var tabelaElem = document.getElementById('tracker-table');
        var elementos = document.getElementsByClassName('tracker-enabled');
        var texto = '';

        Array.from(elementos).forEach((elemento) => {
            texto += elemento.innerText + ', ';
        });

        textoRitmo.innerText = texto;
    }

    function playBotaoBateria(botao, tocar = true, levantarBotoes = true) {
        if (!_configurandoTeclas)
            pressionarBotao(botao, levantarBotoes);
    }

    function pressionarBotao(botao, levantarBotoes = true) {
        var botaoPressionadoAntes = document.getElementsByClassName('selecionadoDrum');
        var botaoPressionado = botaoPressionadoAntes.length > 0 ? botaoPressionadoAntes[0] : null;

        // if (botao.id !== 'prato' && botao.id !== 'pratoCravo') {
        // 	if (botao === play_pause_bateria) {
        // 		if (prepararBateriaBotao.style.display !== 'none') {
        // 			prepararBateriaBotao.style.display = 'none';
        // 			pararBateriaBotao.style.display = '';
        // 		} else {
        // 			prepararBateriaBotao.style.display = '';
        // 			pararBateriaBotao.style.display = 'none';
        // 		}
        // 	} else {
        // 		prepararBateriaBotao.style.display = 'none';
        // 		pararBateriaBotao.style.display = '';
        // 	}
        // }

        if (levantarBotoes && botaoPressionado) {
            if (botao === botaoPressionado) {
                fazerViradaBateria();
            } else {
                botaoPressionado.classList.remove('selecionadoDrum');
            }
        }

        if (botao.id === 'prato' || botao.id === 'pratoCravo') {
            //chimesSound.play();
            mudarIconeChimesPrato();
        }

        else if (botao.id !== 'prato' && botao.id !== 'pratoCravo') {
            botao.classList.add('selecionadoDrum');
        }
    }

    function mostrarBateriaConfig(mostrar) {
        if (mostrar) {
            temporizador = setTimeout(function () {
                //bateria.style.display = '';
                document.getElementById('mensagens').style.display = '';
            }, 3000);
        }
        else 
            clearTimeout(temporizador);
    }
</script>

<!-- <script>
    const startButton = document.getElementById('startButton');
    const stopButton = document.getElementById('stopButton');
    let mediaStream;
    let audioContextMic;
    let microphone;
    let destination;

    startButton.addEventListener('click', async () => {
        try {
            mediaStream = await navigator.mediaDevices.getUserMedia({ audio: true });
            audioContextMic = new (window.AudioContext || window.webkitAudioContext)();
            microphone = audioContextMic.createMediaStreamSource(mediaStream);
            destination = audioContextMic.destination;

            // Search bluetooth
            const audioOutputDevice = await navigator.mediaDevices.enumerateDevices()
                .then(devices => devices.find(device => device.kind === 'audiooutput' && device.label.includes('Bluetooth')));
            
            if (audioOutputDevice) {
                await audioPlayback.setSinkId(audioOutputDevice.deviceId);
            }
            /////

            microphone.connect(destination);

            startButton.disabled = true;
            stopButton.disabled = false;
        } catch (err) {
            console.error("Error accessing microphone:", err);
        }
    });

    stopButton.addEventListener('click', () => {
        if (mediaStream) {
            const tracks = mediaStream.getTracks();
            tracks.forEach(track => track.stop());
        }
        if (microphone) microphone.disconnect();
        if (audioContextMic) audioContextMic.close();

        startButton.disabled = false;
        stopButton.disabled = true;
    });

    // teste bluetooth no celular
    // startButton.addEventListener('click', async () => {
    //     try {
    //         mediaStream = await navigator.mediaDevices.getUserMedia({ audio: true });
    //         audioContext = new (window.AudioContext || window.webkitAudioContext)();
    //         microphone = audioContext.createMediaStreamSource(mediaStream);

    //         let outputDevice;

    //         // Tenta encontrar o dispositivo Bluetooth usando getOutputDevices()
    //         try {
    //         const outputDevices = await navigator.mediaDevices.getOutputDevices();
    //         outputDevice = outputDevices.find(device => device.kind === 'audiooutput' && device.label.includes('Bluetooth'));
    //         } catch (error) {
    //         // Se getOutputDevices() não estiver disponível, use a saída padrão
    //         console.warn("getOutputDevices() não está disponível. Usando saída padrão.");
    //         outputDevice = null;
    //         }

    //         // Define a saída de áudio
    //         if (outputDevice) {
    //         // Tenta usar setSinkId()
    //         try {
    //             await microphone.track.setSinkId(outputDevice.deviceId);
    //             destination = audioContext.destination;
    //             microphone.connect(destination);
    //             console.log("Áudio encaminhado para o dispositivo Bluetooth:", outputDevice.label);
    //         } catch (error) {
    //             // Se setSinkId() falhar, usa a saída padrão
    //             console.warn("setSinkId() falhou. Usando saída padrão.");
    //             destination = audioContext.destination;
    //             microphone.connect(destination);
    //         }
    //         } else {
    //         // Se nenhum dispositivo Bluetooth for encontrado, usa a saída padrão
    //         destination = audioContext.destination;
    //         microphone.connect(destination);
    //         console.warn("Nenhum dispositivo Bluetooth encontrado. Usando saída padrão.");
    //         }

    //         startButton.disabled = true;
    //         stopButton.disabled = false;
    //     } catch (err) {
    //         console.error("Error accessing microphone:", err);
    //     }
    //     });
</script> -->
